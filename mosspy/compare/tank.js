require=function r(a,s,c){function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,r,a,s,c)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({Analysis:[function(e,t,n){"use strict";cc._RF.push(t,"72849F4cndP1beZgDp3pjGD","Analysis"),window.Analysis={},Analysis.AP=function(e,t){var n={};e&&"string"==typeof e&&t&&(n.defaultkey=t),this.put=function(e,t){e&&"string"==typeof e&&t?(n.key=t,console.log("AP put success")):console.log("AP put err : 参数错误")},this.take=function(){return n}},Analysis.event=function(e,t,n){e&&t&&n&&"string"==typeof e&&"string"==typeof t?(wx.aldSendEvent(e,{key:n}),console.log("event success")):console.log("event err : 参数错误")},Analysis.events=function(e,t){e&&"string"==typeof e&&t&&t.constructor==this.AP?(wx.aldSendEvent(e,t.take()),console.log("event success")):console.log("event err : 参数错误")},cc._RF.pop()},{}],BattleData:[function(e,t,n){"use strict";cc._RF.push(t,"aaea4ZyJjFK6rGRwvFfHC55","BattleData"),t.exports=function(){window.BattleStatus={idle:"idle",stop:"stop",ready:"ready",playing:"playing"},window.PlayerStatus={init:0,waiting:1,playing:2,exited:3};var e=cc.Class({extends:NObjData,properties:{_curClassName:"Account",nick:"",avatar:"",gem:0,coin:0,score:0,online:0}}),t=cc.Class({extends:NObjData,properties:{_curClassName:"Vec2",x:0,y:0},updateFinish:function(){this.x/=1e3,this.y/=1e3}}),n=cc.Class({extends:NObjData,properties:{_curClassName:"Feed",id:0,kind:0},ctor:function(){this.pos=new t}}),i=cc.Class({extends:NObjData,properties:{_curClassName:"PlayerState",angle:0},ctor:function(){this.position=new t,this.velocity=new t},toObj:function(){return{position:{x:this.position.x,y:this.position.y},velocity:{x:this.velocity.x,y:this.velocity.y},angle:this.angle}},updateFinish:function(){this.angle/=1e3}}),o=cc.Class({extends:NObjData,properties:{_curClassName:"Player",uid:"",index:0,tank:0,score:0,level:0,health:0,status:0},getNick:function(){return this.info&&this.info.nick?this.info.nick:this.index},ctor:function(){this.state=new i,this.info=new e}});window.Arena=cc.Class({extends:NObjData,properties:{_curClassName:"Arena",mtime:0,step:0,expire:0,status:"",arenaId:0,isNewHight:!1,endTime:0},battleEnd:function(){for(var e=this.players._ary,t=0;t<e.length;++t)e[t].status=PlayerStatus.waiting,e[t].score=0},postUserRankInfoToCloudStorage:function(e){console.log("战斗结束，开始上传分数：我的分数 ",e,"   我的历史分数 "+GameData.historyMaxScore.get()),e>GameData.historyMaxScore.get()&&(GameData.historyMaxScore.set(e),console.log("开始上传分数:",GameData.historyMaxScore.get()),WxSdk.postUserRankInfoToCloudStorage("score",GameData.historyMaxScore.get()))},updateFinish:function(){this.endTime=this.mtime+this.expire,console.log("本局结束时间：",this.endTime,this.mtime,this.expire)},ctor:function(){this.players=new NAryData("uid",o),this.feeds=new NAryData("id",n)}})},cc._RF.pop()},{}],BattleEntityManager:[function(e,t,n){"use strict";cc._RF.push(t,"dbff884BtFFvZXyMwZCNI+U","BattleEntityManager"),t.exports=function(){window.BattleEntityManager={all:{},begin:!1,time:0},BattleEntityManager.EntityGroup={tank:"tk",bullet:"zd",buf:"buf",terrain:"dx"};var i=0;BattleEntityManager.start=function(){i=0,this.begin=!0},BattleEntityManager.addEntity=function(e,t){var n=this.all[e];void 0===n&&(this.all[e]=n={}),t.__entityID=++i,t.group=e,n[t.__entityID]=t},BattleEntityManager.removeEntity=function(e){var t=e.node,n=t.group;t.group="default";var i=t.__entityID;if(delete t.__entityID,void 0!==n&&void 0!==i){var o=this.all[n];void 0!==o&&delete o[i]}else console.log("err BattleEntityManager.removeEntity",n,i)},BattleEntityManager.updateBattle=function(e){for(var t in this.time+=e,this.all){var n=this.all[t];for(var i in n)n[i].curjs.exeUpdate(e)}},BattleEntityManager.removeEntities=function(e){if(void 0===entityType)for(var t in this.all)this.all[t];else this.all[e]}},cc._RF.pop()},{}],BufTank:[function(e,t,n){"use strict";cc._RF.push(t,"0bb74zgDlxHZa7dXKyWPmnv","BufTank"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this.node.tankid,t=cc.loader.getRes("zhandu/res/tank"+e+"diaoluo.png",cc.SpriteFrame);this.node.getComponent(cc.Sprite).spriteFrame=t}}),window.BufTank={map:{},add:function(e,t,n,i){var o=EntityPool.getNode("zhandu/buftank");o.tankid=i,o.parent=n,o.x=t.x,o.y=t.y,o.setLocalZOrder(4),this.map[e]=o},remove:function(e){try{this.map[e].destroy(),delete this.map[e]}catch(e){console.log(e)}},clr:function(){for(var e in this.map)try{this.map[e].destroy(),delete this.map[e]}catch(e){}}},cc._RF.pop()},{}],ChekuLayer:[function(e,t,n){"use strict";cc._RF.push(t,"03570F84i5HZocu2+LBoAYz","ChekuLayer"),cc.Class({extends:cc.Component,properties:{gold:cc.Label,weili:cc.Node,shesu:cc.Node,shecheng:cc.Node,jingquedu:cc.Node,shiye:cc.Node,tankName:cc.Label,tankshuoming:cc.Label,big_tank:cc.Sprite,jietitle:cc.Sprite,yijieSp:cc.Sprite,erjieSp:cc.Sprite,sanjieSp:cc.Sprite,sijieSp:cc.Sprite,tank21Sp:cc.SpriteFrame,tank22Sp:cc.SpriteFrame,tank23Sp:cc.SpriteFrame,tank24Sp:cc.SpriteFrame,tank31Sp:cc.SpriteFrame,tank32Sp:cc.SpriteFrame,tank33Sp:cc.SpriteFrame,tank34Sp:cc.SpriteFrame,tank41Sp:cc.SpriteFrame,tank42Sp:cc.SpriteFrame,tank43Sp:cc.SpriteFrame,tank44Sp:cc.SpriteFrame,tank1name:cc.Label,tank1tag1:cc.Label,tank1tag2:cc.Label,tank1star:cc.Node,tank1sel:cc.Node,tank2name:cc.Label,tank2tag1:cc.Label,tank2tag2:cc.Label,tank2star:cc.Node,tank2sel:cc.Node,tank3name:cc.Label,tank3tag1:cc.Label,tank3tag2:cc.Label,tank3star:cc.Node,tank3sel:cc.Node,tank4name:cc.Label,tank4tag1:cc.Label,tank4tag2:cc.Label,tank4star:cc.Node,tank4sel:cc.Node,starkong:cc.SpriteFrame,starman:cc.SpriteFrame,starban:cc.SpriteFrame,tank1Sp:cc.SpriteFrame,tank2Sp:cc.SpriteFrame,tank3Sp:cc.SpriteFrame,tank4Sp:cc.SpriteFrame,btn_tree:cc.Node,jinjieshu:cc.Node,jiesuo:cc.Node},onLoad:function(){this.initUi()},start:function(){},onEnable:function(){this.curSel=1,this.updateUi()},initUi:function(){this.selArr=new Array,this.selArr[0]=this.tank1sel,this.selArr[1]=this.tank2sel,this.selArr[2]=this.tank3sel,this.selArr[3]=this.tank4sel,this.tankSfArr=new Array,this.tankSfArr[0]=this.tank1Sp,this.tankSfArr[1]=this.tank2Sp,this.tankSfArr[2]=this.tank3Sp,this.tankSfArr[3]=this.tank4Sp,this.jinjieSfArr=new Array,this.jinjieSfArr[0]=this.tank21Sp,this.jinjieSfArr[1]=this.tank22Sp,this.jinjieSfArr[2]=this.tank23Sp,this.jinjieSfArr[3]=this.tank24Sp,this.jinjieSfArr[4]=this.tank31Sp,this.jinjieSfArr[5]=this.tank32Sp,this.jinjieSfArr[6]=this.tank33Sp,this.jinjieSfArr[7]=this.tank34Sp,this.jinjieSfArr[8]=this.tank41Sp,this.jinjieSfArr[9]=this.tank42Sp,this.jinjieSfArr[10]=this.tank43Sp,this.jinjieSfArr[11]=this.tank44Sp,this.jinjieSpArr=new Array,this.jinjieSpArr[0]=this.yijieSp,this.jinjieSpArr[1]=this.erjieSp,this.jinjieSpArr[2]=this.sanjieSp,this.jinjieSpArr[3]=this.sijieSp,this.tank1name.string=GameData.cfgcheku[0].name,this.tank1tag1.string=GameData.cfgcheku[0].tag1,this.tank1tag2.string=GameData.cfgcheku[0].tag2,this.fillStar(this.tank1star,GameData.cfgcheku[0].zonghe),this.tank2name.string=GameData.cfgcheku[1].name,this.tank2tag1.string=GameData.cfgcheku[1].tag1,this.tank2tag2.string=GameData.cfgcheku[1].tag2,this.fillStar(this.tank2star,GameData.cfgcheku[1].zonghe),this.tank3name.string=GameData.cfgcheku[2].name,this.tank3tag1.string=GameData.cfgcheku[2].tag1,this.tank3tag2.string=GameData.cfgcheku[2].tag2,this.fillStar(this.tank3star,GameData.cfgcheku[2].zonghe),this.tank4name.string=GameData.cfgcheku[3].name,this.tank4tag1.string=GameData.cfgcheku[3].tag1,this.tank4tag2.string=GameData.cfgcheku[3].tag2,this.fillStar(this.tank4star,GameData.cfgcheku[3].zonghe),this.n1=this.node.getChildByName("n1"),this.n2=this.node.getChildByName("n2"),this.n3=this.node.getChildByName("n3"),this.n4=this.node.getChildByName("n4")},updateUi:function(){this.gold.string=toFixString(GameData.gold.get());var e=GameData.cfgcheku[this.curSel-1];this.tankName.string=e.name,this.tankshuoming.string=e.des,this.fillStar(this.weili,e.weili),this.fillStar(this.shesu,e.shesu),this.fillStar(this.shecheng,e.shecheng),this.fillStar(this.jingquedu,e.jingquedu),this.fillStar(this.shiye,e.shiye);for(var t=0;t<this.selArr.length;t++)this.curSel==t+1?this.selArr[t].active=!0:this.selArr[t].active=!1;for(t=0;t<this.tankSfArr.length;t++)this.curSel==t+1&&(this.big_tank.spriteFrame=this.tankSfArr[t]);if(this.n1.active=1!=this.curSel,this.n2.active=1!=this.curSel,this.n3.active=1!=this.curSel,this.n4.active=1!=this.curSel,this.btn_tree.active=1==this.curSel,1!=this.curSel)for(t=0;t<this.jinjieSpArr.length;t++){var n=4*(this.curSel-2)+t;console.log("sfidx----\x3e",n),this.jinjieSpArr[t].spriteFrame=this.jinjieSfArr[n]}GameData.isOwn(this.curSel)?this.jiesuo.active=!1:this.jiesuo.active=!0},openJinjieshu:function(){this.jinjieshu.active=!0},closeJinjieshu:function(){this.jinjieshu.active=!1},switchTank:function(e,t){this.curSel=Number(t),this.updateUi()},fillStar:function(e,t){for(var n=0;n<e.children.length-1;n++)0<t?(e.children[n].getComponent(cc.Sprite).spriteFrame=t-1<0?this.starban:this.starman,t--):e.children[n].getComponent(cc.Sprite).spriteFrame=this.starkong},unlockTank:function(){showDialogBox("暂未开放")},onClickClose:function(){this.node.active=!1},openTree:function(){}}),cc._RF.pop()},{}],Common:[function(e,t,n){"use strict";cc._RF.push(t,"92844Qxd5hIj7v83Vfe43YC","Common"),window.Common={},Common.constants={APP_ID:"",TEST:!1},Common.init=function(e){this.constants.APP_ID=e,this.requireModule(),WxSdk.setShareMode(),Share.init()},Common.requireModule=function(){e("WxSdk"),e("Http"),e("Rank"),e("Share"),e("Analysis")},cc._RF.pop()},{Analysis:"Analysis",Http:"Http",Rank:"Rank",Share:"Share",WxSdk:"WxSdk"}],DialogBox:[function(e,t,n){"use strict";cc._RF.push(t,"b72f36g5Y1MJpDXWONfDAva","DialogBox"),cc.Class({extends:cc.Component,properties:{labContent:cc.Label,labCancel:cc.Label,labOk:cc.Label,nodeCancle:cc.Node,nodeOk:cc.Node},onLoad:function(){(this.node.curjs=this).node.x=.5*cc.winSize.width,this.node.y=.5*cc.winSize.height},onBtnOk:function(){this.func&&this.func(!0),this.node.destroy()},onBtnCancel:function(){this.func&&this.func(!1),this.node.destroy()},setBtnCall:function(e){this.func=e},setShowTowBtn:function(e){e||(this.nodeCancle.active=!1,this.nodeOk.x=0)}}),window.showDialogBox=function(e,t,n){var i=cc.loader.getRes("dialogBox/dialogBox"),o=cc.instantiate(i);o.parent=cc.director.getScene(),o.curjs.labContent.string=e,o.curjs.setShowTowBtn(t),o.curjs.setBtnCall(n)},cc._RF.pop()},{}],EntityBullet:[function(e,t,n){"use strict";cc._RF.push(t,"0cf065L97xHwY2XrFmA2j4+","EntityBullet"),cc.Class({extends:cc.Component,init:function(e,t,n){this.prefabTuowei=n,this.atk=t,this.life=1,this.lived=!0,this.isTankBullet=!0,BattleEntityManager.addEntity(BattleEntityManager.EntityGroup.bullet,this.node),this.scheduleOnce(this.exeDie,e);var i=EntityPool.getNode(this.prefabTuowei);i.parent=this.node.parent,i.curjs.setFollowTargert(this.node),this.tuowei=i},onBeginContact:function(e,t,n){if(this.lived){if(this.node.team===n.node.team)return void this.exeDie(!0);n.node.group===BattleEntityManager.EntityGroup.tank&&(MusicManager.play("sound/jizhong.mp3"),n.node.curjs.setHitColor()),this.exeDie()}},onEnable:function(){},onDestroy:function(){this.lived&&(this.lived=!1,this.tuowei&&(this.tuowei.curjs.clrSprite(),this.tuowei=null),BattleEntityManager.removeEntity(this))},clrSprite:function(){this.lived&&(this.lived=!1,this.life=0,this.tuowei&&(this.tuowei.curjs.clrSprite(),this.tuowei=null),BattleEntityManager.removeEntity(this),this.node.destroy())},exeDie:function(e){!0===e||playBulletExplode(this),this.clrSprite()},onLoad:function(){this.node.curjs=this}}),cc._RF.pop()},{}],EntityPool:[function(e,t,n){"use strict";cc._RF.push(t,"0077ff37jhDl6PKfMk1Kspj","EntityPool"),t.exports=function(){window.EntityPool={prefabprefabPathPool:{},nodePrefabRes:{}},EntityPool.getNode=function(e){var t=this.prefabprefabPathPool[e];if(!t){t=this.prefabprefabPathPool[e]=new cc.NodePool;var n=cc.loader.getRes(e);if(!n)return console.log("err EntityPool.getNode  prefabPath no exist:"+e),null;this.nodePrefabRes[e]=n}var i=t.get();return i||((i=cc.instantiate(this.nodePrefabRes[e]))._prefabPath=e),setNodeRotation(i,0),i},EntityPool.putNode=function(e){var t=e._prefabPath;t?this.prefabprefabPathPool[t].put(e):e.destroy()},EntityPool.clear=function(){for(var e in this.prefabprefabPathPool){this.prefabprefabPathPool[e].clear()}}},cc._RF.pop()},{}],EntityTank:[function(e,t,n){"use strict";cc._RF.push(t,"59db4IXuiNCfZ+4Od2HyEJk","EntityTank");var i=cc.color(255,0,0,255),o=cc.color(255,255,255,255);cc.Class({extends:cc.Component,properties:{shootAni:[cc.Animation]},playShootAni:function(){for(var e=0;e<this.shootAni.length;++e)this.shootAni[e].play()},setHitColor:function(){this.node.setColor(i),this.nodeGai.setColor(i),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.node.setColor(o),this.nodeGai.setColor(o)},this)))},exeDie:function(e){this.tuowei1&&(this.tuowei1.curjs.clrSprite(),this.tuowei1=null,this.tuowei2.curjs.clrSprite(),this.tuowei2=null),e?this.clrSprite():(MusicManager.play("sound/tankbaozha.mp3"),playTankExplode(this),this.isMy?(this.node.dispatchEvent(new cc.Event.EventCustom("endGame",!0)),this.node.active=!1):this.clrSprite())},init:function(e,t){this.updateTuoweiFx();var n=this.node.getContentSize();this.timeLine=0;var i=.25*n.height,o=.25*n.width,r=(n.width,EntityPool.getNode("zhandu/tanktrack"));r.parent=this.node.parent,r.curjs.setFollowTargert(this.node,cc.p(i,-o)),this.tuowei1=r,(r=EntityPool.getNode("zhandu/tanktrack")).parent=this.node.parent,r.curjs.setFollowTargert(this.node,cc.p(-i,-o)),this.tuowei2=r,this.nodeGai=this.node.getChildByName("fire").getChildByName("gai"),this.cfg=e,this.playerData=t,this.updatePlayerAllInfo(),this.isMy=!1,this.isTank=!0,this.lived=!0,this.lifeMax=this.life=e.health,this.recover=e.recover,this.atk=0,this.bulletAtk=e.power,this.moveSpeed=e.speed,this.bulletSpeed=e.bulletspeed,this.bulletTime=e.range/this.bulletSpeed,this.px=e.px,this.py=e.py,this.angle=e.angle,this.cool=0,this.cool2=e.cooldown,this.prefabzd=e.prefabzd,this.vision=e.vision,this.spread1=.5*-e.spread,this.spread2=.5*e.spread,this.node.fire=this.node.getChildByName("fire"),this.node.fire.rotation=0,BattleEntityManager.addEntity(BattleEntityManager.EntityGroup.tank,this.node)},onDestroy:function(){this.lived&&(this.lived=!1,BattleEntityManager.removeEntity(this))},onBeginContact:function(e,t,n){},clrSprite:function(){this.lived&&(this.lived=!1,BattleEntityManager.removeEntity(this),this.node.destroy())},usePropShield:function(){var e=cc.instantiate(cc.loader.getRes("prefab/propshield"));e.setPosition(0,0),e.parent=this.node,this.propShield=e},usePropBomb:function(){var e=cc.instantiate(cc.loader.getRes("prefab/propbomb"));e.setPosition(0,0),e.parent=this.node.parent},usePropFast:function(){var e=cc.instantiate(cc.loader.getRes("prefab/propFast"));e.setPosition(0,0),e.parent=this.node,this.propFast=e},toOtherNode:function(e){this.propShield&&this.propShield.isValid&&(this.propShield.parent=null,this.propShield.parent=e),this.propFast&&this.propFast.isValid&&(this.propFast.parent=null,this.propFast.parent=e)},initTankInfo:function(){var e=this.node.getChildByName("tankinfo"),t=e.getChildByName("t2").getComponent(cc.Label),n=e.getChildByName("t").getComponent(cc.Label),i=e.getChildByName("xt2"),o=!(this.updatePlayerAllInfo=function(){i.scaleX=this.playerData.health/this.lifeMax,e.rotation=-this.node.rotation,n.string=this.playerData.getNick(),t.string=this.playerData.level});this.updatePlayerInfo=function(){i.scaleX=this.playerData.health/this.lifeMax,e.rotation=-this.node.rotation,t.string=this.playerData.level,this.isMy&&(.5<i.scaleX&&(o=!0),i.scaleX<.3&&o&&(o=!1,MusicManager.play("sound/kuaisiwang.mp3")))}},onLoad:function(){(this.node.curjs=this).initTankInfo()},onBuf:function(e){switch(e){case 20:this.usePropFast();break;case 21:this.usePropBomb();break;case 22:this.usePropShield();break;case 9:this.upFwq(1);break;case 10:BattleData.gold.change(1);break;case 11:this.node.dispatchEvent(new cc.Event.EventCustom("libao",!0));break;case 3:if(!GameData.planeLaser.inUse)break;case 0:case 1:case 2:this.cfgId===e?this.setPlaneLv(this.planeLv+1):this.node.parent.parent.curjs.changePlane(e)}},update:function(e){this.updateTuoweiFx(),this.isMy&&(this.timeLine+=e,this.timeLine<=2?this.shootCheck(e):3<=this.timeLine&&(this.timeLine=0))},lateUpdate:function(e){this.updatePlayerInfo()},updateTuoweiFx:function(){this.tuoweiFx!==this.node.rotation&&(this.tuoweiFx=this.node.rotation,this.tuoweiFx0=cc.pForAngle(-this.tuoweiFx*cc.dwHudou),this.tuoweiFx90=cc.pPerp(this.tuoweiFx0))},getShootData:function(){for(var e=this.node.fire.rotation+this.node.rotation+RandInt(this.spread1,this.spread2),t=-e*cc.dwHudou,n=cc.pForAngle(t),i=cc.pPerp(n),o=[],r=0;r<this.angle.length;++r){var a=(this.angle[r]-e)*cc.dwHudou,s=cc.pForAngle(a),c=this.px[r],l=this.py[r],u=n.x*l+i.x*c+this.node.x,d=n.y*l+i.y*c+this.node.y,p=cc.v2(s.x*this.bulletSpeed*1e3,s.y*this.bulletSpeed*1e3);o.push({position:{x:1e3*u,y:1e3*d},velocity:p,angle:1e3*a})}return o},shootCheck:function(e){if(this.cool+=e,this.cool>=this.cool2){this.cool-=this.cool2;var t=this.getShootData();ReqPack.fireReq(t,function(e){}),this.shoot(t)}},shoot:function(e){for(var t=0;t<e.length;++t){var n=e[t],i=.001*n.angle*cc.dwDou,o=EntityPool.getNode(this.prefabzd);o.rigidbody=o.getComponent(cc.RigidBody),o.team=this.node.team,o.x=.001*n.position.x,o.y=.001*n.position.y,o.rotation=-i,o.parent=this.node.parent,o.curjs.init(this.bulletTime,this.bulletAtk,this.cfg.prefabtw),o.rigidbody.linearVelocity=cc.p(.001*n.velocity.x,.001*n.velocity.y),o.setLocalZOrder(2)}this.isMy&&MusicManager.play("sound/shoot2.mp3",!1,.1),this.playShootAni()}}),cc._RF.pop()},{}],ExplodeEfect:[function(e,t,n){"use strict";cc._RF.push(t,"0e27eSHnDtGPLEtMWmwGYcq","ExplodeEfect"),cc.Class({extends:cc.Component,properties:{},onEnable:function(){var e=this.node.getComponent(cc.Animation).play(),t=e.duration/e.speed;this.scheduleOnce(function(){EntityPool.putNode(this.node)},t)}}),cc._RF.pop()},{}],FenxiangLayer:[function(e,t,n){"use strict";cc._RF.push(t,"25141KhNl1NK4yar7w21aoo","FenxiangLayer"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onClose:function(){this.node.active=!1}}),cc._RF.pop()},{}],FollowNode:[function(e,t,n){"use strict";cc._RF.push(t,"402dbVKmGpDtblmrgPIi8JS","FollowNode"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){(this.node.curjs=this).lived=!0},setFollowTargert:function(e,t){this.targetNode=e,this.offsetPt=t,this.isTuoweiFx0=void 0!==this.targetNode.curjs.tuoweiFx0,this.beginfollow()},onDestroy:function(){this.lived=!1},clrSprite:function(){this.targetNode=null,this.offsetPt=null,this.lived&&(this.lived=!1,this.node.destroy())},beginfollow:function(){var e=-1e4,t=-1e4;if(this.targetNode&&(e=this.targetNode.x,t=this.targetNode.y),this.offsetPt)if(this.isTuoweiFx0){var n=this.targetNode.curjs.tuoweiFx0,i=this.targetNode.curjs.tuoweiFx90;e+=n.x*this.offsetPt.y+i.x*this.offsetPt.x,t+=n.y*this.offsetPt.y+i.y*this.offsetPt.x}else e+=this.offsetPt.x,t+=this.offsetPt.y;this.node.x=e,this.node.y=t},lateUpdate:function(e){this.beginfollow()}}),cc._RF.pop()},{}],GameData:[function(e,t,n){"use strict";cc._RF.push(t,"53e80KNFoJNeJ9ZgX/m7ltz","GameData"),t.exports=function(){window.GameData=new function(){this.gold=new LocalNum("gold",GameSet.isTest?1e6:100),this.historyMaxScore=new LocalNum("historyMaxScore",0),this.uid=RandInt(1e5,999999).toString(),this.token=this.uid.toString(),this.atkLv=new LocalNum("atkLv",GameSet.isTest?29:0),this.atkSpeedLv=new LocalNum("atkSpeedLv",GameSet.isTest?28:0),this.moveSpeedLv=new LocalNum("moveSpeedLv",GameSet.isTest?27:0),this.lifeHuifuLv=new LocalNum("lifeHuifuLv",GameSet.isTest?26:0),this.citieLv=new LocalNum("citieLv",GameSet.isTest?25:0),this.own=new LocalNum("own",1),this.operate=new LocalNum("operate",2),this.sound=new LocalNum("sound",1),this.effect=new LocalNum("effect",1),this.shock=new LocalNum("shock",1),this.isOwn=function(e){return-1!=(this.own.get()+"").indexOf(e+"")},this.unlock=function(e){var t=this.own.get()+"";-1==t.indexOf(e+"")&&(t+=e,this.own.set(Number(t)))},this.tankSelect=new LocalNum("planeSelect",1),this.getTankCfg=function(e){return void 0===e&&(e=this.tankSelect.get()),this.cfgmapTank[e]},this.onResourcesDirLoaded=function(){this.cfgaryTank=cc.loader.getRes("cfg/playerTank.json"),this.cfgmapTank=cbConfigToMap("id",this.cfgaryTank,["px","py","angle"]),this.cfglv=cc.loader.getRes("cfg/level.json"),this.cfgcheku=cc.loader.getRes("cfg/cheku.json"),console.log(this.cfgcheku)}}},cc._RF.pop()},{}],GameSet:[function(e,t,n){"use strict";cc._RF.push(t,"b09323+kqlFbadjwIilPo+N","GameSet"),t.exports=function(){window.GameSet={userInfo:null,appid:"wx5d96a97b52e3b224",appname:"雷电3",appDesc:"",shopRewardVideoGold:1e3,reviveGold:800,propBombPrice:400,propShieldPrice:400,propFastPrice:400,shareFriendRewardGold:500,down:-568,isEndless:!0,isTest:!0}},cc._RF.pop()},{}],GlobalHead:[function(e,t,n){"use strict";cc._RF.push(t,"1ef53WcS0dFvoJY/nIwehZa","GlobalHead"),t.exports=function(){cc.dwHudou=Math.PI/180,cc.dwDou=180/Math.PI,window.screenWidth=cc.sys.windowPixelResolution.width,window.screenHeight=cc.sys.windowPixelResolution.height,e("DialogBox"),e("GameSet")(),e("NBaseData")(),e("BattleData")(),e("MusicManager")(),e("Help")(),e("NWebSocket")(),e("TimeServer")(),e("LocalNum")(),e("GameData")(),e("EntityPool")(),e("BattleEntityManager")(),e("Common"),Common.init("wxc9eb6b11e3230c92")},cc._RF.pop()},{BattleData:"BattleData",BattleEntityManager:"BattleEntityManager",Common:"Common",DialogBox:"DialogBox",EntityPool:"EntityPool",GameData:"GameData",GameSet:"GameSet",Help:"Help",LocalNum:"LocalNum",MusicManager:"MusicManager",NBaseData:"NBaseData",NWebSocket:"NWebSocket",TimeServer:"TimeServer"}],Hall:[function(e,t,n){"use strict";cc._RF.push(t,"bc42aKhu3JJ76yt3vCcdMpJ","Hall"),cc.Class({extends:cc.Component,properties:{qianghuaLayer:cc.Node,chekuLayer:cc.Node,shezhiLayer:cc.Node,yaoqingLayer:cc.Node,fenxiangLayer:cc.Node,zhanjiLayer:cc.Node},onClickqiri:function(){showDialogBox("7日签到系统暂未开放")},onClickChengjiuhuizhang:function(){showDialogBox("成就徽章系统暂未开放")},onClickFenxianglibao:function(){this.fenxiangLayer.active=!0},onClickGenduoyouxi:function(){More.showMoreGame(this.node,1.125)},onClickYaoqingyouli:function(){this.yaoqingLayer.active=!0},onClickMeirijiangli:function(){showDialogBox("每日奖励系统暂未开放")},onClickMeiriqiandao:function(){showDialogBox("每日签到系统暂未开放")},onClickStartGame:function(){ReqPack.enterArenaReq(function(e){window.BattleData=new Arena,BattleData.update(e.arena),cc.director.loadScene("duizhan")})},onClickCheku:function(){this.chekuLayer.active=!0},onClickQianghua:function(){this.qianghuaLayer.active=!0},onClickPaihang:function(){Rank.showRank(this.node,0)},onClickShezhi:function(){this.shezhiLayer.active=!0},onClickZhanji:function(){this.zhanjiLayer.active=!0},onClickKefu:function(){showDialogBox("客服暂未开放")},onLoad:function(){SceneSite.curSite=SceneSite.hall,MusicManager.addBgMusic("sound/bgdating.mp3",1);var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(),this.qianghuaLayer.active=!1,this.chekuLayer.active=!1}}),cc._RF.pop()},{}],Help:[function(e,t,n){"use strict";cc._RF.push(t,"ad1fdog2VtEPYx/qD9LS0Oq","Help"),t.exports=function(){Math.seed=function(e){var t=e,n=987654321,i=4294967295;return function(){var e=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return e/=4294967296,console.log("BBBBBB",e+.5),e+.5}},window.randomBak=Math.random,window.setRandNum=function(e){Math.random=0===e?window.randomBak:Math.seed(e)},window.SecondToStr=function(e){var t="",n=(e=Math.floor(100*e))%100;e-=n;var i=(e/=100)%60;e-=i;var o=(e/=60)%60;return t+=o<10?"0"+o:o,t+=":",t+=i<10?"0"+i:i,t+=":",t+=n<10?"0"+n:n},window.cbPForAngle=function(e){return cc.pForAngle(Math.PI*e/180)},window.RandInt=function(e,t){return Math.floor(e+(t-e)*Math.random())},window.clone=function(e){if(e instanceof Object){var t=e instanceof Array?[]:{};for(var n in e)t[n]=clone(e[n]);return t}return e},window.cbConfigToMap=function(e,t,n){var i={};try{for(var o=0;o<t.length;++o){var r=t[o];if(n)for(var a=0;a<n.length;++a){var s=n[a];r[s]=JSON.parse(r[s])}i[r[e]]=r}}catch(e){console.log("EEEEEEEEEEE",t)}return i},window.setNodeRotation=function(e,t){t<9999999999?e.rotation=t:console.log("11111111111")},window.playBulletExplode=function(e){var t=EntityPool.getNode("zhandu/tankhitani");t.x=e.node.x,t.y=e.node.y,t.setLocalZOrder(6),t.rotation=e.node.rotation,t.parent=e.node.parent},window.playTankExplode=function(e){var t=EntityPool.getNode("zhandu/tankboomani");t.x=e.node.x,t.y=e.node.y,t.setLocalZOrder(6),t.parent=e.node.parent},window.toFixString=function(e){var t=Math.floor(e),n=Math.floor(100*(e-Math.floor(e)));return 0===n?t:t+"."+n}},cc._RF.pop()},{}],Http:[function(e,t,n){"use strict";cc._RF.push(t,"b0dfdys3xlF4oYEz0NeH9Fm","Http"),window.Http={},Http.addrList={login:"/user/v1/login",pushUserInfo:"/user/v1/pushUserInfo",getRank:"/user/v1/getRank",getAppPageList:"/activity/v1/getAppPageList",getAppHotList:"/activity/v1/getAppHotList",getAppShareInfo:"/activity/v1/getAppShareInfo",getTaskStatus:"/activity/v1/getTaskStatus",getTaskAward:"/activity/v1/getTaskAward",ip:"https://520poker.com"},Http.getAppShareInfo=function(e,t){var n=this.addrList.ip+this.addrList.getAppShareInfo,i={app:e};this.connet(n,i,t,void 0,"获取分享列表")},Http.getAppHotList=function(e){var t=this.addrList.ip+this.addrList.getAppHotList;this.connet(t,{},e,void 0,"获取游戏推荐列表")},Http.getTaskStatus=function(e,t){var n=this.addrList.ip+this.addrList.getTaskStatus,i={ids:e};this.connet(n,i,t,"Bearer "+Http.token,"获取任务状态")},Http.getTaskAward=function(e,t){var n=this.addrList.ip+this.addrList.getTaskAward,i={id:e};this.connet(n,i,t,"Bearer "+Http.token,"用户领取奖励上报")},Http.getAppPageList=function(e){var t=this.addrList.ip+this.addrList.getAppPageList;this.connet(t,{},e,void 0,"获取游戏页列表")},Http.getRank=function(e,t,n){var i=this.addrList.ip+this.addrList.getRank,o={app:e,page:t};this.connet(i,o,n,"Bearer "+Http.token,"获取排行榜")},Http.pushUserInfo=function(e,t,n,i){var o=this.addrList.ip+this.addrList.pushUserInfo,r={key:e,adj:t};r.delta=!!n,this.connet(o,r,i,"Bearer "+Http.token,"上传用户信息")},Http.login=function(e,t,n,i,o,r,a){var s=this.addrList.ip+this.addrList.login,c={jscode:t,app:e,nick:n,avatar:i,gender:1===o};console.log("Http.login ---\x3e query:"),console.log(r),console.log(""),r&&("0"!=r.taskid&&(console.log("Http.login ---\x3e taskid不为0"),c.tcode=Number(r.taskid)),c.tnote=r.uuid);this.connet(s,c,function(e,t){e||(Http.uuid=t.uuid,Http.token=t.token,Http.userData=t,a(e,t))},void 0,"登录")},Http.connet=function(e,n,i,t,o){var r=new XMLHttpRequest;r.timeout=1e5,r.open("POST",e),r.setRequestHeader("Content-Type","text/plain;");var a=JSON.stringify(n);console.log("=================http send==================="),console.log("http send httpAddr:"+e),console.log("http send httpBody:"+a),console.log(""),t&&r.setRequestHeader("Authorization",t),r.send(a);r.onerror=function(e){console.log("------------http errres:",o,n),i(o+",onerror:"+e,n)},r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;if(200<=r.status&&r.status<300){if(e){var t=JSON.parse(e);i(void 0,t)}}else i(o+"失败,code:"+r.status,n)}}},cc._RF.pop()},{}],LocalNum:[function(e,t,n){"use strict";cc._RF.push(t,"ed5beMVMZdF35UTmuQ5WWkO","LocalNum"),t.exports=function(){window.EncodeNum=function(t){var n,i;this.set=function(e){n=2*(e-73),i=e},this.get=function(){var e=n/2+73;return e===i?e:(this.set(t),t)},this.change=function(e){this.set(this.get()+e)}},window.LocalNum=function(n,i){var o,r;i=i||0,this.set=function(e,t){o=2*(e-73),r=e,(t||void 0===t)&&this.write()},this.get=function(e){var t=o/2+73;return e?t:t===r?t:(this.set(i),i)},this.change=function(e,t){this.set(this.get()+e,t)},this.read=function(){var e=cc.sys.localStorage.getItem(n),t=Number(e);e&&t?(o=t,r=this.get(!0)):this.set(i)},this.write=function(){cc.sys.localStorage.setItem(n,o)},this.read()}},cc._RF.pop()},{}],More:[function(e,t,n){"use strict";cc._RF.push(t,"9818c2/lvVK9oL7EBd3pHbp","More"),window.More={},More.data={MORE:null,PREFAB_PATH:"component/moudle/More/prefab/moreGame"},More.showMoreGame=function(i,o){var r=this.data.PREFAB_PATH,a=this;cc.loader.loadRes(r,cc.Prefab,function(e,t){if(null==e){var n=cc.instantiate(t);n.setPosition(0,0),n.scale=o,i.addChild(n),a.data.MORE=n}else console.log("Common.showMoreGame ---\x3e 资源加载失败:"+r)})},cc._RF.pop()},{}],MusicManager:[function(e,t,n){"use strict";cc._RF.push(t,"3be30McezJBypFvs4VJKQ9+","MusicManager"),t.exports=function(){window.MusicManager={init:function(){if(!this.isInit){this.bgmusic=-1,this.isInit=!0,this.key="bg_music";var e=cc.sys.localStorage.getItem(this.key);e||(cc.sys.localStorage.setItem(this.key,"true"),e="true"),this.isPlayBgMusic="true"===e,this.click=function(){this.isPlayBgMusic=!this.isPlayBgMusic;var e=this.isPlayBgMusic?"true":"false";cc.sys.localStorage.setItem(this.key,e)},this.addBgMusic=function(e,t){-1!==this.bgmusic&&(cc.audioEngine.stop(this.bgmusic),this.bgmusic=-1),this.bgmusic=this.play(e,!0,t)}}},play:function(e,t,n){if(MusicManager.isPlayBgMusic){var i=cc.loader.getRes(e);return i?cc.audioEngine.play(i,t,n):(console.log("err music file no exist:"+e),-1)}}},MusicManager.init()},cc._RF.pop()},{}],NBaseData:[function(e,t,n){"use strict";cc._RF.push(t,"d191aPoH5tDkY7BNZ9a/8Z3","NBaseData"),t.exports=function(){window.NBaseData=cc.Class({ctor:function(){var e=arguments[0];this._curKey=e||"id"},_isEquality:function(e){return this[this._curKey]==e},toString:function(){return""}}),window.NObjData=cc.Class({extends:NBaseData,update:function(e){if(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return void console.log(this._curClassName+"  :   "+e.stack)}if(e instanceof Object)if(e.err)console.log(this._curClassName+"update失败，包含err字段："+JSON.stringify(e));else{for(var t in delete e.err,e)void 0!==this[t]?this[t]instanceof NBaseData?this[t].update(e[t]):this[t]=e[t]:console.log(this._curClassName+"收到未定义的更新数据：{"+t+":"+JSON.stringify(e[t])+"}");this.updateFinish&&this.updateFinish()}else console.log(this._curClassName+"update 数据不是一个对象："+JSON.stringify(e))}}}),window.NAryData=cc.Class({extends:NBaseData,properties:{_curClassName:"NAryData"},ctor:function(){this.obFunction=arguments[1],this._ary=[]},getDataByKeyValue:function(e){for(var t=0;t<this._ary.length;t++)if(this._ary[t]._isEquality(e))return this._ary[t];return null},getDataByCustomKey:function(e,t){for(var n=0;n<this._ary.length;n++)if(this._ary[n][e]===t)return this._ary[n];return null},removeDataByCustomKey:function(e,t){for(var n=0;n<this._ary.length;n++)if(this._ary[n][e]===t)return this._ary.splice(n,1),this.updateFinish&&this.updateFinish(),!0;return!1},removeDataByKeyValue:function(e){for(var t=0;t<this._ary.length;t++)if(this._ary[t]._isEquality(e))return this._ary.splice(t,1),this.updateFinish&&this.updateFinish(),!0;return!1},update:function(e){if(e)if(e instanceof Object){e instanceof Array||(e=[e]);for(var t=this._curKey,n=0;n<e.length;n++){var i,o=e[n][t];void 0!==o&&(i=this.getDataByKeyValue(o)),i||(i=new this.obFunction(t),this._ary.push(i)),i.update(e[n])}this.updateFinish&&this.updateFinish()}else console.log(this._curClassName+"update fail:"+e+"数据不是一个对象")},clr:function(){this._ary.length=0,this.updateFinish&&this.updateFinish()}})},cc._RF.pop()},{}],NSprite:[function(e,t,n){"use strict";cc._RF.push(t,"54634ruI7VEbr1Z+Wf+eFGZ","NSprite");var i=1e4,o={};cc.Class({extends:cc.Component,onLoad:function(){this.id=i++,o[this.id]=this.node,(this.node.curjs=this).node.getChildByName("s").runAction(cc.repeatForever(cc.rotateBy(.8,360)))},onDestroy:function(){delete o[this.id]}}),window.NSprite={},NSprite.show=function(e){var t=cc.director.getScene();if(t){var n=cc.loader.getRes("netSprite/netSpriteNode"),i=cc.instantiate(n);i.parent=t,i.setLocalZOrder(1e3),e=e||10,i.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){NSprite.close(o)})));var o=i.curjs.id;return o}},NSprite.close=function(e){o[e]&&o[e].destroy()},NSprite.closeAll=function(){for(var e in o)NSprite.close(e)},cc._RF.pop()},{}],NWebSocket:[function(e,t,n){"use strict";cc._RF.push(t,"1dddbWaCWpFoK3odvufOllX","NWebSocket"),t.exports=function(){var b=function(e){for(var t=new Uint8Array(4),n=0;n<4;++n)t[3-n]=(e>>8*n)%256;return t},n=void 0,i=function(e){if(n&&cc.sys.isObjectValid(n)||(n=null),e){if(!n){var t=cc.loader.getRes("netConnecting");(n=cc.instantiate(t)).parent=cc.director.getScene(),n.x=.5*cc.winSize.width,n.y=.5*cc.winSize.height}}else n&&(n.destroy(),n=null)};window.NWebsocket={},NWebsocket.isLogin=!1,NWebsocket.isConnect=!1,NWebsocket.websocket=null,NWebsocket.event=[],NWebsocket.waitOpenSendData=null,NWebsocket.cusid=0;var o=[];NWebsocket.customEvent={loginReqSuc:1e3,websocket_onclose:1001},NWebsocket.init=function(){this.isInit||(this.isInit=!0,this.connect())},NWebsocket.connect=function(){null!=this.websocket&&(this.websocket.close(),this.websocket=null),this.websocket=new WebSocket(cc.UseIp.SocketIp),this.websocket.binaryType="arraybuffer",this.websocket.cusid=++this.cusid;var g=this;this.websocket.onopen=function(e){if(console.log("websocket open"),i(!1),NWebsocket.isConnect=!0,NWebsocket.waitOpenSendData){var t=NWebsocket.waitOpenSendData;NWebsocket.send(t.protoinfo,t.data,function(){NWebsocket.waitOpenSendData=null,t.callback()},t.addNetSpr)}else SceneSite.curSite>SceneSite.login&&ReqPack.loginReq(function(){g.onWebsocketMessage(NWebsocket.customEvent.loginReqSuc)})},this.websocket.onmessage=function(e){if(NWebsocket.websocket.cusid===NWebsocket.cusid){for(var t,n=e.data,i=n.byteLength,o={},r=new Uint8Array(n,0,4),a=o.num=0;a<4;++a)o.num+=r[a]<<8*(3-a);4<i&&(o.data=new Uint8Array(n,4,i-4));try{var s,c=o.num,l=respDefine.get(c);if(l.resp){var u=protobufManager.getProtoBufRoot(l.protofileName)[l.resp],d=u.decode(o.data);s=u.toObject(d,{longs:Number,objects:!0,defaults:!0})}}catch(e){return console.log("err websocket probuf:"+c,e.stack),void(g.event.length=0)}if(l.print){console.log("---------websocket receive----------");var p=new Date;console.log(p.getMinutes()+":"+p.getSeconds()+":"+p.getMilliseconds()+"     : "+l.desc+" "+l.num+" :"+(s?JSON.stringify(s):"null")),console.log("")}var h=g.event;for(a=0;a<h.length;++a)if(h[a][0]===c){var f=h.splice(a,1)[0];NSprite.close(f[2]),t=f[1];break}try{if(0===l.type){if(!l.ignoreEr){if(300<=s.code)return;200===s.code&&delete s.code}t&&t(s)}else g.onWebsocketMessage(c,s,l)}catch(e){console.log("造成错误的数据："+JSON.stringify(s)),console.log(e.stack)}}else console.log("websocket 收到过期socket消息")},this.websocket.onerror=function(e){console.log("websocket 连接错误",JSON.stringify(e)),g.websocket.readyState!==WebSocket.OPEN&&g.websocket.close(),g.websocket=null,g.readReconnect()&&g.onWebsocketMessage(NWebsocket.customEvent.websocket_onclose)},this.onWebsocketMessage=function(e,t,n){for(var i=0;i<o.length;++i)o[i].onNewMessage(e,t,n)},this.readReconnect=function(){return i(!0),NWebsocket._isSetTimeoutConnect?(console.log("正在重连中，不需要再次重连"),!1):(NWebsocket._isSetTimeoutConnect=!0,NWebsocket.isConnect=!1,NSprite.closeAll(),g.websocket=null,g.event=[],NWebsocket.isLogin=!1,console.log("将在1秒后重连"),setTimeout(function(){console.log("正在重连"),NWebsocket._isSetTimeoutConnect=!1,null===g.websocket&&g.connect()},1e3),!0)},this.websocket.onclose=function(e){console.log("websocket 连接断开",JSON.stringify(e)),g.readReconnect()&&g.onWebsocketMessage(NWebsocket.customEvent.websocket_onclose)}},NWebsocket.addListenner=function(e){if(e.onNewMessage){for(var t=0;t<o.length;++t)if(o[t]==e)return void console.log("错误 你要监听的对象已经存在");o.push(e)}else console.log("错误 请先设置消息入口函数")},NWebsocket.removeListenner=function(e){for(var t=0;t<o.length;++t)if(o[t]==e)return void o.splice(t,1)},NWebsocket.send=function(e,t,n,i,o){if(this.websocket){var r=protobufManager.getProtoBufRoot(e.protofileName);if(r)if(this.websocket.readyState===WebSocket.OPEN){var a,s,c,l,u,d,p,h=e.req;if(""===h)a=b(e.num);else{var f=r[h],g=f.create(t),y=f.encode(g).finish();s=y,c=e.num,l=b(c),u=l.length,d=s.length,(p=new Uint8Array(u+d)).set(l,0),p.set(s,u),a=p}var m=i?NSprite.show():0;this.event.push([e.num,n,m]),this.websocket.send(a.buffer),e.print&&(console.log("=========websocket send suc========="),console.log("head:"+JSON.stringify(e)),console.log("data:"+JSON.stringify(t)))}else o&&(this.waitOpenSendData={protoinfo:e,data:t,callback:n,addNetSpr:i});else console.log("err curprobufRoot equi null")}};var r=0;setInterval(function(){if(NWebsocket.isLogin){if(20<r)return r=0,console.log("超时主动断开连接"),void NWebsocket.websocket.close();++r,ReqPack.heartbeat(Date.now(),function(e){r=0;var t=Date.now();TimeServer.onNetTime(e.ctime,e.mtime,t)})}else r=0},1e3)},cc._RF.pop()},{}],ProtoDefine:[function(r,e,t){"use strict";cc._RF.push(e,"40418PLZrtCz5Mawrs6AQnk","ProtoDefine"),e.exports=function(){var t,o;window.SceneSite={},SceneSite.unknow=0,SceneSite.login=1,SceneSite.hall=2,SceneSite.duizhan=3,SceneSite.curSite=0,SceneSite.isInRoom=!1,window.respDefine=(t={},{set:function(e){t[e.num]=e},get:function(e){return t[e]}}),window.protobufManager=(o={},{setProtobufRoot:function(e,t,n){var i=r("proto");o.msg=i.msgpb,o.tank=i.tankpb},getProtoBufRoot:function(e){return o[e]},isSuc:function(){return!0}});var e=function(e,t,n,i,o,r){this.num=e,this.req=n,this.resp=i,this.desc=t,this.type=o,this.protofileName=r,this.print=!0,this.ignoreEr=!1,respDefine.set(this)};window.cpDefine={},window.spDefine={},e.loadHallPtoto=function(){cpDefine.loginReq=new e(10001,"长连接登陆验证","LoginReq","LoginRes",0,"msg"),cpDefine.heartbeat=new e(10002,"心跳","HeartBeatReq","HeartBeatRes",0,"msg"),cpDefine.heartbeat.print=!1,cpDefine.MessageReq=new e(10004,"发送消息","MessageReq","MessageRes",0,"msg"),spDefine.loginOther=new e(20001,"玩家在其它地方登陆","","",1,"msg"),spDefine.informMessage=new e(20008,"收到消息","","InformMessage",1,"msg"),spDefine.informSysBroadcast=new e(20010,"系统广播消息","","InformSysBroadcast",1,"msg"),cpDefine.enterArenaReq=new e(2e7,"进入战场","EnterArenaReq","EnterArenaRes",0,"tank"),cpDefine.exitArenaReq=new e(10100,"退出战场","ExitArenaReq","ExitArenaRes",0,"tank"),cpDefine.joinPlayReq=new e(10101,"加入战斗","JoinPlayReq","JoinPlayRes",0,"tank"),cpDefine.updateStateReq=new e(10103,"移动指令","UpdateStateReq","UpdateStateRes",0,"tank"),cpDefine.fireReq=new e(10104,"开火","FireReq","FireRes",0,"tank"),spDefine.informEnterArena=new e(20101,"通知进入战场","","InformEnterArena",1,"tank"),spDefine.informExitArena=new e(20102,"通知退出战场","","InformExitArena",1,"tank"),spDefine.informJoinPlay=new e(20103,"通知加入战斗","","InformJoinPlay",1,"tank"),spDefine.informBattleBegin=new e(20104,"通知战斗开始","","InformBattleBegin",1,"tank"),spDefine.informUpdateState=new e(20105,"通知移动","","InformUpdateState",1,"tank"),spDefine.informBattleEnd=new e(20106,"通知战斗结束","","InformBattleEnd",1,"tank"),spDefine.informBeenKilled=new e(20107,"通知被消灭","","InformBeenKilled",1,"tank"),spDefine.informFire=new e(20108,"通知开火","","InformFire",1,"tank"),spDefine.informFeedJoin=new e(20109,"给养产生","","InformFeedJoin",1,"tank"),spDefine.informFeedBeenAte=new e(20110,"给养被吃","","InformFeedBeenAte",1,"tank")},window.LoadAllProto=function(){protobufManager.setProtobufRoot(),e.loadHallPtoto()}},cc._RF.pop()},{proto:"proto"}],QianghuaLayer:[function(e,t,n){"use strict";cc._RF.push(t,"7120e8j5RtIl5CHbSNv5Mpd","QianghuaLayer"),cc.Class({extends:cc.Component,properties:{labGold:cc.Label,labAtkLv:cc.Label,labAtkValue:cc.Label,lab2AtkValue:cc.Label,labAtkMeney:cc.Label,btnAtk:cc.Node,labAtkSpeedLv:cc.Label,labAtkSpeedValue:cc.Label,lab2AtkSpeedValue:cc.Label,labAtkSpeedMeney:cc.Label,btnAtkSpeed:cc.Node,labMoveLv:cc.Label,labMoveValue:cc.Label,lab2MoveValue:cc.Label,labMoveMeney:cc.Label,btnMove:cc.Node,labLifeHuifuLv:cc.Label,labLifeHuifuValue:cc.Label,lab2LifeHuifuValue:cc.Label,labLifeHuifuMeney:cc.Label,btnLifeHuifu:cc.Node,labCitieLv:cc.Label,labCitieValue:cc.Label,lab2CitieValue:cc.Label,labCitieMeney:cc.Label,btnCitie:cc.Node},onLoad:function(){},start:function(){},updateLab:function(){this.labGold.string=toFixString(GameData.gold.get());var e=GameData.atkLv.get();console.log("攻击力LV."+e);var t=this.getLvValue("atk",e);this.labAtkLv.string="Lv."+toFixString(e),this.labAtkValue.string=toFixString(t),this.lab2AtkValue.string=toFixString(t),29<e?this.btnAtk.active=!1:(this.btnAtk.active=!0,this.labAtkMeney.string=toFixString(this.getLvValue("spend",e+1)));var n=GameData.atkSpeedLv.get();console.log("攻击速度LV."+n);var i=this.getLvValue("atks",n);this.labAtkSpeedLv.string="Lv."+toFixString(n),this.labAtkSpeedValue.string=toFixString(i),this.lab2AtkSpeedValue.string=toFixString(i),29<n?this.btnAtkSpeed.active=!1:(this.btnAtkSpeed.active=!0,this.labAtkSpeedMeney.string=toFixString(this.getLvValue("spend",n+1)));var o=GameData.moveSpeedLv.get();console.log("移动速度LV."+o);var r=this.getLvValue("moves",o);this.labMoveLv.string="Lv."+toFixString(o),this.labMoveValue.string=toFixString(r),this.lab2MoveValue.string=toFixString(r),29<o?this.btnMove.active=!1:(this.btnMove.active=!0,this.labMoveMeney.string=toFixString(this.getLvValue("spend",o+1)));var a=GameData.lifeHuifuLv.get();console.log("生命恢复LV."+a);var s=this.getLvValue("life",a);this.labLifeHuifuLv.string="Lv."+toFixString(a),this.labLifeHuifuValue.string=toFixString(s),this.lab2LifeHuifuValue.string=toFixString(s),29<a?this.btnLifeHuifu.active=!1:(this.btnLifeHuifu.active=!0,this.labLifeHuifuMeney.string=toFixString(this.getLvValue("spend",a+1)));var c=GameData.citieLv.get();console.log("磁铁等级LV."+c);var l=this.getLvValue("ct",c);this.labCitieLv.string="Lv."+toFixString(c),this.labCitieValue.string=toFixString(l),this.lab2CitieValue.string=toFixString(l),29<c?this.btnCitie.active=!1:(this.btnCitie.active=!0,this.labCitieMeney.string=toFixString(this.getLvValue("spend",c+1)))},onEnable:function(){this.updateLab()},onUpAtk:function(){showDialogBox("暂未开放")},onUpAtkSpeed:function(){showDialogBox("暂未开放")},onUpMoveSpeed:function(){showDialogBox("暂未开放")},onUpLifeHuifu:function(){showDialogBox("暂未开放")},onUpCitie:function(){showDialogBox("暂未开放")},onClose:function(){this.node.active=!1},getLvValue:function(e,t,n){return void 0===n&&(n=1),"ct"===e||"spend"===e?0===t?0:GameData.cfglv[t-1][e]:0===t?1:(GameData.cfglv[t-1][e]+1)*n}}),cc._RF.pop()},{}],Rank:[function(e,t,n){"use strict";cc._RF.push(t,"e4e87HYiIlGd6mToabqeL87","Rank"),window.Rank={},Rank.data={RANK:null,PREFAB_PATH:"component/moudle/Rank/prefab/rank"},Rank.design_big={btn_friend:{active:!0,width:240,height:70,x:-160,y:492,scaleX:1,scaleY:1},btn_world:{active:!0,width:240,height:70,x:160,y:492,scaleX:1,scaleY:1},btn_back:{active:!0,width:222,height:80,x:0,y:-490,scaleX:1,scaleY:1},bg:{active:!0,width:644,height:1080,x:0,y:-6,scaleX:1,scaleY:1},display:{width:600,height:860,x:0,y:0}},Rank.design_small={btn_friend:{active:!0,width:323,height:83,x:-160,y:274,scaleX:1,scaleY:1},btn_world:{active:!0,width:323,height:83,x:160,y:274,scaleX:1,scaleY:1},btn_back:{active:!1,width:222,height:80,x:0,y:-130,scaleX:1,scaleY:1},bg:{active:!0,width:644,height:875,x:0,y:-119,scaleX:1,scaleY:1},display:{width:640,height:400,x:0,y:20}},Rank.showRank=function(i,o){var r=this.data.PREFAB_PATH,a=this;cc.loader.loadRes(r,cc.Prefab,function(e,t){if(null==e){var n=cc.instantiate(t);n.setPosition(0,0),n.type=o,i.addChild(n),a.data.RANK=n}else console.log("Common.showMoreGame ---\x3e 资源加载失败:"+r)})},Rank.hideRank=function(){this.data.RANK&&(this.data.RANK.destroy(),this.data.RANK=null)},cc._RF.pop()},{}],ReqPack:[function(e,t,n){"use strict";cc._RF.push(t,"837e9GxUmtBNYA/FKxmipcb","ReqPack"),t.exports=function(){window.ReqPack={},ReqPack.loginReq=function(e,t){var n={token:GameData.token};NWebsocket.send(cpDefine.loginReq,n,function(){NWebsocket.isLogin=!0,e&&e()},!0,t)},ReqPack.heartbeat=function(e,t){NWebsocket.send(cpDefine.heartbeat,{ctime:e},t,!1)},ReqPack.enterArenaReq=function(e){NWebsocket.send(cpDefine.enterArenaReq,{uid:GameData.uid.toString()},e)},ReqPack.exitArenaReq=function(e){NWebsocket.send(cpDefine.exitArenaReq,{},e)},ReqPack.joinPlayReq=function(e){NWebsocket.send(cpDefine.joinPlayReq,{},e)},ReqPack.updateStateReq=function(e,t){e.state.position.x*=1e3,e.state.position.y*=1e3,e.state.velocity.x*=1e3,e.state.velocity.y*=1e3,e.state.angle*=1e3;NWebsocket.send(cpDefine.updateStateReq,e,function(e){e.state.state.position.x*=.001,e.state.state.position.y*=.001,e.state.state.velocity.x*=.001,e.state.state.velocity.y*=.001,e.state.state.angle*=.001,t(e)})},ReqPack.fireReq=function(e,t){NWebsocket.send(cpDefine.fireReq,{states:e},t)},ReqPack.defaultSend=function(e,t,n){NWebsocket.send(e,void 0,t,n)}},cc._RF.pop()},{}],Share:[function(e,t,n){"use strict";cc._RF.push(t,"17d0e6Ad6xMDZR/E82sR4W0","Share"),window.Share={},Share.data={shareList:""},Share.init=function(){var i=this;Http.getAppShareInfo(Common.constants.APP_ID,function(e,t){if(!e){i.data.shareList=t;var n=i.getRandomShareInfo();n&&WxSdk.setOnShareToWx(n.title,n.img)}})},Share.share=function(e,t){var n=this.getRandomShareInfo();n?WxSdk.shareToWx(n.title,n.img,t,e):(e(!1,"Common.share ---\x3e 分享列表为空：没有可用的分享图标题和图片"),console.log("Common.share ---\x3e 分享列表为空：没有可用的分享图标题和图片"))},Share.getRandomShareInfo=function(){if(""==this.data.shareList)return null;var e={},t=Math.floor(Math.random()*this.data.shareList.length);return e.title=this.data.shareList[t].title,e.img=this.data.shareList[t].img,e},cc._RF.pop()},{}],ShezhiLayer:[function(e,t,n){"use strict";cc._RF.push(t,"2bdcaBs4kZKxIA2FC0Li0/8","ShezhiLayer"),cc.Class({extends:cc.Component,properties:{sound_status:cc.Sprite,effect_status:cc.Sprite,shock_status:cc.Sprite,shezhi_off:cc.SpriteFrame,shezhi_on:cc.SpriteFrame},onLoad:function(){this.operateSelArr=new Array;for(var e=0;e<4;e++){var t=e+1,n=this.node.getChildByName("s"+t).getChildByName("sel");this.operateSelArr[e]=n}},start:function(){},selSound:function(){var e=GameData.sound.get();GameData.sound.set(1==e?0:1),this.updateUi()},selEffect:function(){var e=GameData.effect.get();GameData.effect.set(1==e?0:1),this.updateUi()},selShock:function(){var e=GameData.shock.get();GameData.shock.set(1==e?0:1),this.updateUi()},selOperateMode:function(e,t){var n=Number(t);GameData.operate.set(n),this.updateUi()},updateUi:function(){for(var e=GameData.operate.get(),t=0;t<this.operateSelArr.length;t++)this.operateSelArr[t].active=e==t+1;this.sound_status.spriteFrame=0==GameData.sound.get()?this.shezhi_off:this.shezhi_on,this.effect_status.spriteFrame=0==GameData.effect.get()?this.shezhi_off:this.shezhi_on,this.shock_status.spriteFrame=0==GameData.shock.get()?this.shezhi_off:this.shezhi_on},onEnable:function(){this.updateUi()},onClose:function(){this.node.active=!1}}),cc._RF.pop()},{}],TankLuanZhan:[function(e,t,n){"use strict";cc._RF.push(t,"d102fOQ8cdGGLOVlXqfyndB","TankLuanZhan");var i=[0,0,0,0,0,0,0,0,0,0];cc.Class({extends:cc.Component,properties:{cameraNode:cc.Node,daojishi:cc.Label},initResult:function(){var n=this.node.getChildByName("result");n.active=!1;n.getChildByName("i3");var i=n.getChildByName("bg2"),o=n.getChildByName("t3").getComponent(cc.Label);n.getChildByName("b5").on("click",function(){Share.share(function(){})},this),n.getChildByName("b6").on("click",function(){Share.share(function(){})},this),n.getChildByName("b7").on("click",function(){Rank.hideRank(),NWebsocket.removeListenner(this),cc.director.loadScene("hall")},this);var t=n.getChildByName("b2");t.on("click",function(){this.showResult(!1),this.joinBattle()},this),this.showRebeginBtn=function(e){t.active=e},this.showResult=function(e){if(e){var t=BattleData.players.getDataByKeyValue(GameData.uid);o.string=t.score,n.active=!0,Rank.showRank(i,1)}else n.active=!1,Rank.hideRank()}},joinBattle:function(){var t=this,n=BattleData.players.getDataByKeyValue(GameData.uid);ReqPack.joinPlayReq(function(e){n.update(e.player),n.status=PlayerStatus.playing,t.createTank(n),t.fuhuoNode.active=!1,t.clrMoveMsg()})},onLoad:function(){SceneSite.curSite=SceneSite.duizhan,MusicManager.addBgMusic("sound/bgyouxi.mp3",1),this.camera=this.cameraNode.getComponent(cc.Camera),this.initResult(),this.initLog(),this.initNet(),this.addEventHideAndShow(),this.initUI(),this.initBoard(),this.addTouch(),this.initFuhuo(),this.runGame()},initLog:function(){var n=this.node.getChildByName("log"),i=n.getChildByName("view"),o=n.getChildByName("t1");o.active=!1,this.clearLog=function(){i.removeAllChildren()},this.clearLog();var r=function(e){var t=cc.instantiate(o);t.active=!0,t.getComponent(cc.Label).string=e,i.addChild(t),n.getComponent(cc.ScrollView).scrollToBottom(.1)};this.logJibai=function(e,t){r("玩家 "+e+" 击毁了 "+t)},this.logJinruzhuanchang=function(e){r("玩家 "+e+" 进入战场 ")}},addTouch:function(){var r=this,e=this.node.getChildByName("touch1"),a=e.getChildByName("y1");a.zs=a.getChildByName("i2");var s,t=a.getPosition();this.moveDirect=cc.v2(0,0);var n=function(e){s=t,a.zs.setPosition(0,0),a.setPosition(t),r.moveDirect=cc.v2(0,0)};e.on(cc.Node.EventType.TOUCH_START,function(e){var t=e.getLocation();s=t,a.setPosition(s)},this),e.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.getLocation(),n=cc.v2(t.x-s.x,t.y-s.y),i=cc.pLength(n);i=i<90?i:90;var o=cc.pNormalize(n);a.zs.setPosition(cc.v2(o.x*i,o.y*i)),r.moveDirect=o},this),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){n()},this),e.on(cc.Node.EventType.TOUCH_END,function(e){n()},this)},createTank:function(e){var t=GameData.getTankCfg(e.tank),n=EntityPool.getNode(t.prefab);n.parent=this.bigMap,n.curjs.init(t,e),n.team=e.index;var i=e.state.position.y,o=e.state.position.x;return n.x=o,n.y=i,n.uid=e.uid,n.index=e.index,n.setLocalZOrder(3),n.rigidbody=n.getComponent(cc.RigidBody),n.rigidbody.linearVelocity=cc.p(e.state.velocity.x,e.state.velocity.y),n.uid===GameData.uid?(this.mytank=n,this.mytank.curjs.isMy=!0):this.userstank[e.index]=n,n},initNet:function(){this.bigMap=this.node.getChildByName("entityNode").getChildByName("bigMap"),this.userstank={};for(var e=BattleData.players._ary,t=0;t<e.length;++t){var n=e[t];n.status===PlayerStatus.playing&&this.createTank(n)}this.createBufTank(),NWebsocket.addListenner(this)},createBufTank:function(){for(var e=BattleData.feeds._ary,t=0;t<e.length;++t){var n=e[t];BufTank.add(n.id,cc.p(n.pos.x,n.pos.y),this.bigMap,n.kind)}e.length=0},onDestroy:function(){NWebsocket.removeListenner(this)},initUI:function(){this.pingLab=this.node.getChildByName("ping").getComponent(cc.Label);var e=this.node.getChildByName("arenaId");e&&(e.getComponent(cc.Label).string=BattleData.arenaId)},update:function(e){var t=TimeServer.getSeconds(),n=BattleData.endTime-t;console.log(t,BattleData.endTime,n),n>BattleData.expire?n=BattleData.expire:n<0&&(n=0);var i=n%60,o=Math.floor(n/60),r=o<10?"0"+o:o;if(r+=":",r+=i<10?"0"+i:i,this.daojishi.string=r,this.mytank){if(this.cameraNode.x=this.mytank.x,this.cameraNode.y=this.mytank.y,this.camera.zoomRatio!==this.mytank.curjs.cfg.vision){var a=this.mytank.curjs.cfg.vision-this.camera.zoomRatio,s=.05*a;Math.abs(s)<1e-4&&(s=a),this.camera.zoomRatio+=s}}else 0===this.moveDirect.x&&0===this.moveDirect.y||(this.cameraNode.x+=this.moveDirect.x*e*300,this.cameraNode.x=cc.clampf(this.cameraNode.x,-1500,1500),this.cameraNode.y+=this.moveDirect.y*e*300,this.cameraNode.y=cc.clampf(this.cameraNode.y,-1500,1500));this.isPause||(this.pingLab.string="ping:"+TimeServer.delayTime)},initBoard:function(){for(var i=[],e=this.node.getChildByName("board"),t=0;t<6;++t)i[t]=e.getChildByName("i"+t),i[t].nick=i[t].getChildByName("t2").getComponent(cc.Label),i[t].score=i[t].getChildByName("t3").getComponent(cc.Label),i[t].getPosition();this.updateBoardNodes=function(){BattleData.players._ary.sort(function(e,t){return t.score-e.score});for(var e=0;e<i.length;++e){var t=i[e],n=BattleData.players._ary[e];n?(t.nick.string=n.getNick(),t.score.string=n.score,t.active=!0):t.active=!1}}},initFuhuo:function(){this.fuhuoNode=this.node.getChildByName("fuhuo"),this.fuhuoNode.active=!1,this.fuhuoNode.getChildByName("b5").on("click",function(){this.joinBattle()},this)},addEventHideAndShow:function(){var i=0;cc.game.on(cc.game.EVENT_HIDE,function(e,t){if(!GameSet.isPause){var n=Date.now();n-i<100||(i=n)}},this),cc.game.on(cc.game.EVENT_SHOW,function(e,t){if(!GameSet.isPause){var n=Date.now();n-i<100||(i=n)}},this)},runGame:function(){var e=this;this.isRunGame=!0;var r=BattleData.players.getDataByKeyValue(GameData.uid);if(r){BattleData.status===BattleStatus.playing&&r.status!==PlayerStatus.playing&&showDialogBox("战斗开始",!1,function(){e.joinBattle()}),this.updateBoardNodes();var t=BattleData.step,s=0,c=t/50-1;GameSet.isPause=!1,this.camera.zoomRatio=.8;var l=[];this.addFrameMsg=function(e){l.push(e)},this.getFrameMsg=function(){var e=l.shift();if(!e)return null;for(var t in e){var n=e[t],i=this.userstank[t];if(i){i.curjs.playerData.update(n);var o=i.curjs.playerData.state.toObj();n.state=o,i.x!==o.position.x&&(i.x=.5*(i.x+o.position.x)),i.y!==o.position.y&&(i.y=.5*(i.y+o.position.y)),i.rotation=-o.angle*cc.dwDou}else t===r.index.toString()&&(r.health=n.health,r.score=n.score)}return e};var u=[],o=0;this.clrMoveMsg=function(){u.length=0,o=0},this.sendMove=function(e,t,n){var i={seq:++o,state:{position:e,velocity:t,angle:n}};u.push(i),ReqPack.updateStateReq(i,function(e){r.update(e.state);for(var t=0;t<u.length;++t)if(u[t].seq===e.seq){u.splice(t,1),0!==t&&console.log("err _moveMsgs ",t);break}})};var d,p=Math.ceil(6);this.beginZhandu=function(){var e=!0;if(u.length>p&&(e=!1),e&&this.mytank){var t=cc.v2(this.moveDirect.x*this.mytank.curjs.moveSpeed,this.moveDirect.y*this.mytank.curjs.moveSpeed),n=this.mytank.getPosition(),i=void 0,o=void 0;0===t.x&&0===t.y?(i=-this.mytank.rotation,this.mytank.rigidbody.linearDamping=100,this.isMove&&(this.isMove=!1,o=i*cc.dwHudou,this.sendMove(n,t,o))):(this.isMove=!0,i=-(o=cc.pToAngle(this.moveDirect))*cc.dwDou,this.mytank.rotation=i,this.mytank.rigidbody.linearDamping=0,this.mytank.rigidbody.linearVelocity=t,this.sendMove(n,t,o))}if(0===s&&(3<l.length&&l.splice(0,l.length-3),d=this.getFrameMsg()),d){for(var r in d){var a=this.userstank[r];if(a)0===(t=d[r].state.velocity).x&&0===t.y?a.rigidbody.linearDamping=100:(a.rigidbody.linearDamping=0,a.rigidbody.linearVelocity=t)}++s>=c&&(s=0)}};var n=this.node.getChildByName("noti").getComponent(cc.Label);this.timeline=Date.now(),this.gameUpdateCheck=function(){if(this.isRunGame){if(!(Date.now()>=e.timeline+50))return;e.timeline+=50,NWebsocket.isLogin&&(e.beginZhandu(),n.string=JSON.stringify(i))}}}},lateUpdate:function(e){this.gameUpdateCheck()},onNewMessage:function(e,t,n){switch(e){case spDefine.informEnterArena.num:BattleData.players.update(t.player);break;case spDefine.informExitArena.num:var i=BattleData.players.getDataByKeyValue(t.uid);if(i)(g=this.userstank[i.index])&&g.curjs.exeDie(!0),BattleData.players.removeDataByKeyValue(t.uid);if(t.uid==GameData.uid){for(var o in this.userstank)this.userstank[o].curjs.exeDie(!0);return this.mytank&&(this.mytank.curjs.exeDie(!0),this.mytank=null),SceneSite.curSite=SceneSite.hall,NWebsocket.removeListenner(this),void cc.director.loadScene("hall")}break;case spDefine.informJoinPlay.num:var r=BattleData.players.getDataByKeyValue(t.uid);r.update(t.player),this.createTank(r),this.logJinruzhuanchang(r.getNick()),this.updateBoardNodes();break;case spDefine.informBattleBegin.num:BattleData.update({mtime:t.mtime,status:BattleStatus.playing}),this.showRebeginBtn(!0);break;case spDefine.informUpdateState.num:this.addFrameMsg(t.states);break;case spDefine.informBattleEnd.num:for(var a in this.userstank)this.userstank[a].curjs.exeDie(!0);this.mytank&&(BattleData.postUserRankInfoToCloudStorage(this.mytank.curjs.playerData.score),this.mytank.curjs.exeDie(!0),this.mytank=null),this.userstank={},this.fuhuoNode.active=!1,this.showRebeginBtn(!1),this.showResult(!0),BattleData.battleEnd(),BufTank.clr();break;case spDefine.informBeenKilled.num:var s=void 0,c=void 0,l=this.userstank[t.dead];l?(s=l.curjs.playerData.getNick(),delete this.userstank[t.dead]):this.mytank&&t.dead===this.mytank.index&&(BattleData.postUserRankInfoToCloudStorage(this.mytank.curjs.playerData.score),s=(l=this.mytank).curjs.playerData.getNick(),this.mytank=null,MusicManager.play("sound/dabaidiren.mp3"),this.scheduleOnce(function(){this.fuhuoNode.active=!0},2)),l&&(l.curjs.playerData.status=PlayerStatus.waiting,l.curjs.exeDie());var u=this.userstank[t.killer];u?c=u.curjs.playerData.getNick():this.mytank&&t.killer===this.mytank.index&&(c=(u=this.mytank).curjs.playerData.getNick());var d=BattleData.players.getDataByCustomKey("index",t.dead),p=BattleData.players.getDataByCustomKey("index",t.killer);u&&(p.score=t.score),this.updateBoardNodes(),this.logJibai(c,s);var h=EntityPool.getNode("zhandu/jihuieffect");h.parent=this.node,h.curjs.show(p,d),h.x=0,h.y=420;break;case spDefine.informFire.num:(g=this.userstank[t.index])&&g.curjs.shoot(t.states);break;case NWebsocket.customEvent.loginReqSuc:for(var f in this.userstank)this.userstank[f].curjs.exeDie(!0);this.mytank&&(this.mytank.curjs.exeDie(!0),this.mytank=null);(function t(){ReqPack.enterArenaReq(function(e){0===e.arena.players.length?showDialogBox("你的网络中断，重新开始战斗",!0,function(e){e?t():(NWebsocket.removeListenner(this),cc.director.loadScene("hall"))}):(window.BattleData=new Arena,BattleData.update(e.arena),NWebsocket.removeListenner(this),cc.director.loadScene("duizhan"))})})();break;case NWebsocket.customEvent.websocket_onclose:NWebsocket.isLogin=!1;break;case spDefine.informFeedJoin.num:BattleData.feeds.update(t),this.createBufTank();break;case spDefine.informFeedBeenAte.num:var g;(g=this.userstank[t.eater])||t.eater===this.mytank.curjs.playerData.index&&(g=this.mytank),g&&(g.curjs.playerData.tank=t.tank,g.curjs.exeDie(!0),g.curjs.playerData.update(t.state),this.createTank(g.curjs.playerData)),BufTank.remove(t.id)}}}),cc._RF.pop()},{}],TimeServer:[function(e,t,n){"use strict";cc._RF.push(t,"63be2e4FORF/JK0bXh5HOdj","TimeServer"),t.exports=function(){window.TimeServer||(window.TimeServer={delayTime:0,delayTimeMin:1e5,serverTime:0,localTime:0},TimeServer.onNetTime=function(e,t,n){this.delayTime=Math.ceil((n-e)/2),this.delayTime<this.delayTimeMin&&(this.delayTimeMin=this.delayTime,this.localTime=n,this.serverTime=t+this.delayTime)},TimeServer.milliseconds=function(){return this.serverTime+(Date.now()-this.localTime)},TimeServer.getSeconds=function(){var e=this.serverTime+(Date.now()-this.localTime);return Math.floor(e/1e3)})},cc._RF.pop()},{}],WxSdk:[function(e,t,n){"use strict";cc._RF.push(t,"77215TygnpC+r25NTu5T6UC","WxSdk"),window.WxSdk={},WxSdk.setImage=function(t,e){if(this.isWx())try{var n=wx.createImage();n.onload=function(){try{var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture(),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}catch(e){console.log("WxSdk.setImage --\x3e set image err [ ",e," ]")}},n.src=e}catch(e){console.log("WxSdk.setImage --\x3e set image err [ ",e," ]")}},WxSdk.showImage=function(e,t,n){this.isWx()&&wx.previewImage({current:e,urls:t,success:function(){console.log("WxSdk.showImage --\x3e show image success"),void 0!==n&&n&&n()}})},WxSdk.postUserRankInfoToCloudStorage=function(e,t){if(this.isWx()){var n={KVDataList:[{key:e,value:""+t}],success:function(e){console.log("WxSdk.postUserRankInfoToCloudStorage  success")},fail:function(e){console.log("WxSdk.postUserRankInfoToCloudStorage  err [ "+e+" ]")}};console.log("======================================================================="),console.log(n),console.log(JSON.stringify(n)),wx.setUserCloudStorage(n)}},WxSdk.sendMsgToSubdomain=function(e){this.isWx()&&wx.getOpenDataContext().postMessage({message:e})},WxSdk.setShareMode=function(){this.isWx()&&wx.showShareMenu({withShareTicket:!0})},WxSdk.setOnShareToWx=function(e,t){this.isWx()&&wx.aldOnShareAppMessage(function(){return{title:e,imageUrl:t,query:"taskid=-1&uuid="+Http.uuid}})},WxSdk.shareToWx=function(e,t,n,i){this.isWx()&&wx.aldShareAppMessage({title:e,imageUrl:t,query:"taskid="+n+"&uuid="+Http.uuid,success:function(e){"shareAppMessage:ok"==e.errMsg&&(console.log("WxSdk.shareToWx---\x3e share success"),i&&i(!0,e))},fail:function(e){i&&i(!1),"shareAppMessage:fail cancel"==e.errMsg?console.log("WxSdk.shareToWx---\x3e share cancel"):"shareAppMessage:fail"==e.errMsg&&console.log("WxSdk.shareToWx---\x3e share fail")}})},WxSdk.dialog=function(e,t,n){this.isWx()&&wx.showModal({title:e,content:t,showCancle:!1,success:function(e){void 0!==n&&n&&(e.confirm?(console.log("WxSdk.dialog---\x3e user clicked ok"),n(!0)):(n(!1),console.log("WxSdk.dialog---\x3e user clicked cancel")))}})},WxSdk.login=function(s,c){if(this.isWx()){var e=wx.getLaunchOptionsSync(),l=e.query;console.log("WxSdk.login ---\x3e 获取用户登录参数成功 --- option：",e);var u=this;wx.login({success:function(e){var a=e.code;console.log("----res1:",e),WxSdk.showLoginButton(function(e,t){if(!1!==e){var n={type:-1,nickName:t.userInfo.nickName};u.sendMsgToSubdomain(JSON.stringify(n));var i=t.userInfo.nickName,o=t.userInfo.avatarUrl,r=t.userInfo.gender;Http.login(s,a,i,o,r,l,function(e,t){if(e)return u.toast("服务器登录失败！"),void c(!1);c(!0,t)})}else c(!1)})}})}},WxSdk.saveDataToWx=function(e,t){this.isWx()&&wx.setStorageSync(e,t)},WxSdk.getDataFromWx=function(e,t){if(this.isWx()){var n=wx.getStorageSync(e);return void 0===n||null==n||""===n?t:n}},WxSdk.isWx=function(){return cc.sys.platform==cc.sys.WECHAT_GAME||(console.log("WxSdk.setImage --\x3e set image err [ 当前不是微信环境，无法调用微信api ]"),!1)},WxSdk.showLoginButton=function(t){if(this.isWx()){var e=wx.getSystemInfoSync(),n=e.screenWidth,i=e.screenHeight;console.log(n,"x",i);var o=wx.createUserInfoButton({type:" image",image:"http://static.520poker.com/images/ui/auth_btn.png",style:{left:n/2-100,top:2*i/3,width:200,height:60}});o.onTap(function(e){console.log(e),-1!=e.errMsg.indexOf("ok")?(t(!0,e),o.hide()):t(!1)}),o.show()}},cc._RF.pop()},{}],YaoqingLayer:[function(e,t,n){"use strict";cc._RF.push(t,"2b552K5DXRC5JDgtmxPLQ/2","YaoqingLayer"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onClose:function(){this.node.active=!1}}),cc._RF.pop()},{}],ZhanjiLayer:[function(e,t,n){"use strict";cc._RF.push(t,"e2587kMPBNIno/dZ5eQnhem","ZhanjiLayer"),cc.Class({extends:cc.Component,properties:{},start:function(){},show:function(){showDialogBox("战绩系统尚未开放")},onClose:function(){this.node.active=!1}}),cc._RF.pop()},{}],"ald-game-conf":[function(e,t,n){"use strict";cc._RF.push(t,"045c2GM1NFPPqLar8utgyc/","ald-game-conf"),n.app_key="c83ca15caa85fbacd8e7f0e90fefc339",n.getLocation=!0,cc._RF.pop()},{}],"ald-game":[function(N,e,t){"use strict";cc._RF.push(e,"97124GaRWtIca2KMOt8uP9U","ald-game");var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){wx.Queue=new function(){this.concurrency=5,this.queue=[],this.tasks=[],this.activeCount=0;var o=this;this.push=function(i){this.tasks.push(new Promise(function(t,e){var n=function(){o.activeCount++,i().then(function(e){t(e)}).then(function(){o.next()})};o.activeCount<o.concurrency?n():o.queue.push(n)}))},this.all=function(){return Promise.all(this.tasks)},this.next=function(){o.activeCount--,0<o.queue.length&&o.queue.shift()()}},wx.Queue.all();var t="1.0.0",i="glog",o=N("./ald-game-conf");""===o.app_key&&console.error("请在配置文件中填写您的app_key"),o.app_key=o.app_key.replace(/\s/g,""),wx.request({url:"https://"+i+".aldwx.com/config/app.json",method:"GET",success:function(e){200===e.statusCode&&(e.data.version!=t&&console.warn("您的SDK不是最新版本，请尽快升级！"),e.data.warn&&console.warn(e.data.warn),e.data.error&&console.error(e.data.error))}});var e,n,r="",a=function(){var t="";try{t=wx.getStorageSync("aldstat_uuid"),wx.setStorageSync("ald_ifo",!0)}catch(e){t="uuid_getstoragesync"}if(t)r=!1;else{t=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}(),r=!0;try{wx.setStorageSync("aldstat_uuid",t)}catch(t){wx.setStorageSync("aldstat_uuid","uuid_getstoragesync")}}return t}(),s={},c="",l="",u=0,d="",p=wx.getLaunchOptionsSync(),h=Date.now(),f=""+Date.now()+Math.floor(1e7*Math.random()),g=""+Date.now()+Math.floor(1e7*Math.random()),y=0,m="",b="",k=!0,w=["aldSendEvent","aldOnShareAppMessage","aldShareAppMessage","aldSendSession","aldSendOpenid"];Promise.all([new Promise(function(t,e){wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){b=j(e.userInfo.avatarUrl.split("/")),t(e)},fail:function(){t("")}}):t("")},fail:function(){t("")}})}),new Promise(function(t,e){wx.getNetworkType({success:function(e){t(e)},fail:function(){t("")}})}),new Promise(function(t,e){o.getLocation?wx.getLocation({success:function(e){t(e)},fail:function(){t("")}}):wx.getSetting({success:function(e){e.authSetting["scope.userLocation"]&&wx.getLocation({success:function(e){t(e)},fail:function(){t("")}}),t("")},fail:function(){t("")}})})]).then(function(e){""!==e[2]?(s.lat=e[2].latitude||"",s.lng=e[2].longitude||"",s.spd=e[2].speed||""):(s.lat="",s.lng="",s.spd=""),""!==e[1]?s.nt=e[1].networkType||"":s.nt="";var t=P(s);""!==e[0]&&(t.ufo=e[0],m=e[0]),x(t,"init")}),wx.onShow(function(e){d=0,p=e,y=Date.now(),k||(f=""+Date.now()+Math.floor(1e7*Math.random()),r=!1,wx.setStorageSync("ald_ifo",!1)),k=!1;var t=P(s),n=P(s);t.sm=y-h,e.query.ald_share_src&&e.shareTicket&&"1044"===e.scene?(n.tp="ald_share_click",new Promise(function(t,e){"1044"==p.scene?wx.getShareInfo({shareTicket:p.shareTicket,success:function(e){t(e)},fail:function(){t("")}}):t("")}).then(function(e){n.ct=e,x(n,"event")})):e.query.ald_share_src&&(n.tp="ald_share_click",n.ct="1",x(n,"event")),x(t,"show")}),wx.onHide(function(){var t=P(s);t.dr=Date.now()-y,""===m?wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){t.ufo=e,b=j((m=e).userInfo.avatarUrl.split("/")),x(t,"hide")}}):x(t,"hide")}}):x(t,"hide")}),wx.onError(function(e){var t=P(s);t.tp="ald_error_message",t.ct=e,u++,x(t,"event")});for(var v={aldSendEvent:function(e,t){var n=P(s);""!==e&&"string"==typeof e&&e.length<=255?(n.tp=e,"string"==typeof t&&t.length<=255?(n.ct=String(t),x(n,"event")):"object"==(void 0===t?"undefined":D(t))?(255<=JSON.stringify(t).length&&console.error("自定义事件参数不能超过255个字符"),n.ct=JSON.stringify(t),x(n,"event")):void 0===t||""===t?x(n,"event"):console.error("事件参数必须为String,Object类型,且参数长度不能超过255个字符")):console.error("事件名称必须为String类型且不能超过255个字符")},aldOnShareAppMessage:function(r){wx.updateShareMenu({withShareTicket:!0,complete:function(){wx.onShareAppMessage(function(){var e=r(),t="",n="";t=void 0!==e.success?e.success:"",n=void 0!==e.fail?e.fail:"";var i;i=void 0!==p.query.ald_share_src?void 0!==e.query?(p.query.ald_share_src.indexOf(a),e.query+"&ald_share_src="+p.query.ald_share_src+","+a):(p.query.ald_share_src.indexOf(a),"ald_share_src="+p.query.ald_share_src+","+a):void 0!==e.query?e.query+"&ald_share_src="+a:"ald_share_src="+a;var o=P(s);return e.query=i,o.ct=e,o.tp="ald_share_chain",x(o,"event"),e.success=function(e){o.tp="ald_share_status",x(o,"event"),""!==t&&t(e)},e.fail=function(e){o.tp="ald_share_fail",x(o,"event"),""!==n&&n(e)},e})}})},aldShareAppMessage:function(e){var t=e,n="",i="";n=void 0!==t.success?t.success:"",i=void 0!==t.fail?t.fail:"";var o;o=void 0!==p.query.ald_share_src?void 0!==t.query?(p.query.ald_share_src.indexOf(a),t.query+"&ald_share_src="+p.query.ald_share_src+","+a):(p.query.ald_share_src.indexOf(a),"ald_share_src="+p.query.ald_share_src+","+a):void 0!==t.query?t.query+"&ald_share_src="+a:"ald_share_src="+a,t.query=o;var r=P(s);r.ct=t,r.tp="ald_share_chain",x(r,"event"),t.success=function(e){r.tp="ald_share_status",x(r,"event"),""!==n&&n(e)},t.fail=function(e){r.tp="ald_share_fail",x(r,"event"),""!==i&&i(e)},wx.updateShareMenu({withShareTicket:!0,complete:function(){wx.shareAppMessage(t)}})},aldSendSession:function(e){if(""!==e&&e){var t=P(s);t.tp="session",t.ct="session",c=e,""===m?wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){t.ufo=e,x(t,"event")}}):x(t,"event")}}):(""!==(t.ufo=m)&&(t.gid=""),x(t,"event"))}else console.error("请传入从后台获取的session_key")},aldSendOpenid:function(e){if(""!==e&&e){l=e;var t=P(s);t.tp="openid",t.ct="openid",x(t,"event")}else console.error("openID不能为空")}},S=0;S<w.length;S++)n=v[e=w[S]],Object.defineProperty(wx,e,{value:n,writable:!1,enumerable:!0,configurable:!0});try{var O=wx.getSystemInfoSync();s.br=O.brand||"",s.md=O.model,s.pr=O.pixelRatio,s.sw=O.screenWidth,s.sh=O.screenHeight,s.ww=O.windowWidth,s.wh=O.windowHeight,s.lang=O.language,s.wv=O.version,s.sv=O.system,s.wvv=O.platform,s.fs=O.fontSizeSetting,s.wsdk=O.SDKVersion,s.bh=O.benchmarkLevel||"",s.bt=O.battery||"",s.wf=O.wifiSignal||"",s.lng="",s.lat="",s.nt="",s.spd="",s.ufo=""}catch(e){}}function x(n,e){d++,n.as=g,n.at=f,n.rq_c=d,n.ifo=r,n.ak=o.app_key,n.uu=a,n.v=t,n.st=Date.now(),n.ev=e,n.wsr=p,n.ufo=function(e){if(void 0===e||""===e)return"";var t={};for(var n in e)"rawData"!=n&&"errMsg"!=n&&(t[n]=e[n]);return t}(n.ufo),n.ec=u,wx.Queue.push(function(){return new Promise(function(e,t){wx.request({url:"https://"+i+".aldwx.com/d.html",data:n,header:{se:c||"",op:l||"",img:b||""},method:"GET",success:function(){e("")},fail:function(){e("")}})})})}function P(e){var t={};for(var n in e)t[n]=e[n];return t}function j(e){for(var t="",n=0;n<e.length;n++)e[n].length>t.length&&(t=e[n]);return t}}(),cc._RF.pop()},{"./ald-game-conf":"ald-game-conf"}],jihuieffect:[function(e,t,n){"use strict";cc._RF.push(t,"599013inIhOsoafaDp4V+b1","jihuieffect"),cc.Class({extends:cc.Component,properties:{srcIcon:cc.Sprite,dstIcon:cc.Sprite,srcName:cc.Label,dstName:cc.Label},show:function(e,t){var n=this,i=e.info.avatar;try{cc.loader.load({url:i,type:"jpg"},function(e,t){e||(n.srcIcon.spriteFrame=new cc.SpriteFrame(t))}),i=t.info.avatar,cc.loader.load({url:i,type:"jpg"},function(e,t){e||(n.dstIcon.spriteFrame=new cc.SpriteFrame(t))})}catch(e){console.log(e)}this.srcName.string=e.getNick(),this.dstName.string=t.getNick();var o=this.node.getComponent(cc.Animation).play(),r=o.duration/o.speed;this.scheduleOnce(function(){this.node.destroy()},r)},onLoad:function(){this.node.curjs=this},start:function(){}}),cc._RF.pop()},{}],login:[function(e,t,n){"use strict";cc._RF.push(t,"947a29YhRhGp5YQyWOC3P8o","login"),window.gameSize=function(){var e={width:720,height:1280},t={width:cc.sys.windowPixelResolution.width,height:cc.sys.windowPixelResolution.height},n={width:t.width,height:t.height};if(e.width<e.height&&n.width>n.height||e.height<e.width&&n.width<n.height){var i=n.width;n.width=n.height,n.height=i}var o;return o=e.width/n.width,n.height=n.height*o,n.width=e.width,{winSize:e,pixel:t,winSizeRel:n,pixelScale:o}}();var i={SocketIp:"wss://520poker.com//ws",tag:"pro"},o={SocketIp:"ws://192.168.1.205:10050/ws",tag:"dev"};cc.UseIp=i,cc.Class({extends:cc.Component,properties:{_errcount:0},onLoad:function(){var e=this.node.getChildByName("select");cc.sys.WECHAT_GAME===cc.sys.platform?(e.active=!1,this.loadResDir()):(e.active=!0,e.getChildByName("b1").on("click",function(){cc.UseIp=i,e.active=!1,this.loadResDir()},this),e.getChildByName("b2").on("click",function(){cc.UseIp=o,e.active=!1,this.loadResDir()},this))},loadResDir:function(){try{var i=this,o=this.node.getChildByName("load");o.active=!0;var r=this.node.getChildByName("loadlab").getComponent(cc.Label);cc.loader.loadResDir("",function(e,t,n){o.scaleX=e/t,r.string="loading……"+Math.ceil(100*e/t)+"%"},function(e,t,n){if(e&&i._errcount<10||0===t.length)return console.log(i._errcount,e),i._errcount++,void i.loadResDir();i.loadSuc()})}catch(e){return void console.log(e)}},loadSuc:function(){this.isLoadsuc||(this.isLoadsuc=!0,e("ProtoDefine")(),e("ReqPack")(),e("GlobalHead")(),LoadAllProto(),SceneSite.curSite=SceneSite.login,MusicManager.addBgMusic(),GameData.onResourcesDirLoaded(),NWebsocket.connect(),WxSdk.isWx()?WxSdk.login(Common.constants.APP_ID,function(e,t){!0===e?(GameData.uid=Http.uuid,GameData.token=Http.token,console.log("Common.init ---\x3e 登录成功--\x3e",t),ReqPack.loginReq(function(){NWebsocket.isLogin=!0,console.log("LoginReq res"),cc.director.loadScene("hall")},!0)):showDialogBox("请点击按钮授权登录")}):ReqPack.loginReq(function(){NWebsocket.isLogin=!0,console.log("LoginReq res"),cc.director.loadScene("hall")},!0))},update:function(e){this.hasLoadRes}}),cc._RF.pop()},{GlobalHead:"GlobalHead",ProtoDefine:"ProtoDefine",ReqPack:"ReqPack"}],moreItemJs:[function(e,t,n){"use strict";cc._RF.push(t,"7026dyfhCtCXbVXI8d5BoqB","moreItemJs"),cc.Class({extends:cc.Component,properties:{},start:function(){},onLoad:function(){this.node.on("touchend",this.show,this),WxSdk.setImage(this.node,this.node.data.poster)},show:function(e){e.stopPropagation();var t=new Array;t[0]=this.node.data.qrcode,WxSdk.showImage(t[0],t,function(){})}}),cc._RF.pop()},{}],moreJs:[function(e,t,n){"use strict";cc._RF.push(t,"3e3b739ZnVJy66dX95Yg/rr","moreJs"),cc.Class({extends:cc.Component,properties:{back:cc.Node,content:cc.Node,item:cc.Prefab},onLoad:function(){if(this.node.on("touchend",this.break,this),this.back.on("touchend",this.exitMoreGame,this),void 0===window.gameList){var n=this;Http.getAppPageList(function(e,t){e||(window.gameList=t.list,n.constructMorePage())})}else this.constructMorePage()},constructMorePage:function(){for(var e=0;e<window.gameList.length;e++){var t=cc.instantiate(this.item);t.data=window.gameList[e],this.content.addChild(t)}},break:function(e){e.stopPropagation()},exitMoreGame:function(e){e.stopPropagation(),this.node.destroy()},onEnable:function(){},start:function(){}}),cc._RF.pop()},{}],proto:[function(e,t,n){"use strict";cc._RF.push(t,"617a2utnTpMQI8OtDxrRPmN","proto");var i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=protobuf,s=a.Reader,c=a.Writer,l=a.util,u=a.roots.default||(a.roots.default={});u.msgpb=((i={}).Msg=function(){function e(e,t,n){a.rpc.Service.call(this,e,t,n)}return((e.prototype=Object.create(a.rpc.Service.prototype)).constructor=e).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.stream=function e(t,n){return this.rpcCall(e,u.msgpb.Frame,u.msgpb.Frame,t,n)},"name",{value:"Stream"}),e}(),i.Frame=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.payload=l.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.Frame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.payload=e.bytes();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||l.isString(e.payload))?"payload: buffer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.Frame)return e;var t=new u.msgpb.Frame;return null!=e.payload&&("string"==typeof e.payload?l.base64.decode(e.payload,t.payload=l.newBuffer(l.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.payload="":(n.payload=[],t.bytes!==Array&&(n.payload=l.newBuffer(n.payload)))),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?l.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.LoginReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.token="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.token&&e.hasOwnProperty("token")&&t.uint32(10).string(e.token),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.LoginReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.token=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.token&&e.hasOwnProperty("token")&&!l.isString(e.token)?"token: string expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.LoginReq)return e;var t=new u.msgpb.LoginReq;return null!=e.token&&(t.token=String(e.token)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.token=""),null!=e.token&&e.hasOwnProperty("token")&&(n.token=e.token),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.LoginRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.LoginRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.LoginRes)return e;var t=new u.msgpb.LoginRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.HeartBeatReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.ctime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.ctime&&e.hasOwnProperty("ctime")&&t.uint32(8).int64(e.ctime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.HeartBeatReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.ctime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.ctime&&e.hasOwnProperty("ctime")&&!(l.isInteger(e.ctime)||e.ctime&&l.isInteger(e.ctime.low)&&l.isInteger(e.ctime.high))?"ctime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.HeartBeatReq)return e;var t=new u.msgpb.HeartBeatReq;return null!=e.ctime&&(l.Long?(t.ctime=l.Long.fromValue(e.ctime)).unsigned=!1:"string"==typeof e.ctime?t.ctime=parseInt(e.ctime,10):"number"==typeof e.ctime?t.ctime=e.ctime:"object"===r(e.ctime)&&(t.ctime=new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(l.Long){var i=new l.Long(0,0,!1);n.ctime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.ctime=t.longs===String?"0":0;return null!=e.ctime&&e.hasOwnProperty("ctime")&&("number"==typeof e.ctime?n.ctime=t.longs===String?String(e.ctime):e.ctime:n.ctime=t.longs===String?l.Long.prototype.toString.call(e.ctime):t.longs===Number?new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber():e.ctime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.HeartBeatRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.prototype.ctime=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.mtime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),null!=e.ctime&&e.hasOwnProperty("ctime")&&t.uint32(16).int64(e.ctime),null!=e.mtime&&e.hasOwnProperty("mtime")&&t.uint32(120).int64(e.mtime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.HeartBeatRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;case 2:i.ctime=e.int64();break;case 15:i.mtime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null!=e.ctime&&e.hasOwnProperty("ctime")&&!(l.isInteger(e.ctime)||e.ctime&&l.isInteger(e.ctime.low)&&l.isInteger(e.ctime.high))?"ctime: integer|Long expected":null!=e.mtime&&e.hasOwnProperty("mtime")&&!(l.isInteger(e.mtime)||e.mtime&&l.isInteger(e.mtime.low)&&l.isInteger(e.mtime.high))?"mtime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.HeartBeatRes)return e;var t=new u.msgpb.HeartBeatRes;return null!=e.code&&(t.code=0|e.code),null!=e.ctime&&(l.Long?(t.ctime=l.Long.fromValue(e.ctime)).unsigned=!1:"string"==typeof e.ctime?t.ctime=parseInt(e.ctime,10):"number"==typeof e.ctime?t.ctime=e.ctime:"object"===r(e.ctime)&&(t.ctime=new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber())),null!=e.mtime&&(l.Long?(t.mtime=l.Long.fromValue(e.mtime)).unsigned=!1:"string"==typeof e.mtime?t.mtime=parseInt(e.mtime,10):"number"==typeof e.mtime?t.mtime=e.mtime:"object"===r(e.mtime)&&(t.mtime=new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.code=0,l.Long){var i=new l.Long(0,0,!1);n.ctime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.ctime=t.longs===String?"0":0;l.Long?(i=new l.Long(0,0,!1),n.mtime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.mtime=t.longs===String?"0":0}return null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.ctime&&e.hasOwnProperty("ctime")&&("number"==typeof e.ctime?n.ctime=t.longs===String?String(e.ctime):e.ctime:n.ctime=t.longs===String?l.Long.prototype.toString.call(e.ctime):t.longs===Number?new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber():e.ctime),null!=e.mtime&&e.hasOwnProperty("mtime")&&("number"==typeof e.mtime?n.mtime=t.longs===String?String(e.mtime):e.mtime:n.mtime=t.longs===String?l.Long.prototype.toString.call(e.mtime):t.longs===Number?new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber():e.mtime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.ConnectReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(10).string(e.uid),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.ConnectReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid)?"uid: string expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.ConnectReq)return e;var t=new u.msgpb.ConnectReq;return null!=e.uid&&(t.uid=String(e.uid)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid=""),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.ConnectRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.ConnectRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.ConnectRes)return e;var t=new u.msgpb.ConnectRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.UpdateNetReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.delay=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(8).int64(e.uid),null!=e.delay&&e.hasOwnProperty("delay")&&t.uint32(16).int32(e.delay),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.UpdateNetReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.int64();break;case 2:i.delay=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!(l.isInteger(e.uid)||e.uid&&l.isInteger(e.uid.low)&&l.isInteger(e.uid.high))?"uid: integer|Long expected":null!=e.delay&&e.hasOwnProperty("delay")&&!l.isInteger(e.delay)?"delay: integer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.UpdateNetReq)return e;var t=new u.msgpb.UpdateNetReq;return null!=e.uid&&(l.Long?(t.uid=l.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"===r(e.uid)&&(t.uid=new l.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.delay&&(t.delay=0|e.delay),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(l.Long){var i=new l.Long(0,0,!1);n.uid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.uid=t.longs===String?"0":0;n.delay=0}return null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?l.Long.prototype.toString.call(e.uid):t.longs===Number?new l.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.delay&&e.hasOwnProperty("delay")&&(n.delay=e.delay),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.UpdateNetRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.UpdateNetRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.UpdateNetRes)return e;var t=new u.msgpb.UpdateNetRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.MessageReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.dst="",t.prototype.msgtype=0,t.prototype.content="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.dst&&e.hasOwnProperty("dst")&&t.uint32(10).string(e.dst),null!=e.msgtype&&e.hasOwnProperty("msgtype")&&t.uint32(16).int32(e.msgtype),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(26).string(e.content),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.MessageReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.dst=e.string();break;case 2:i.msgtype=e.int32();break;case 3:i.content=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.dst&&e.hasOwnProperty("dst")&&!l.isString(e.dst)?"dst: string expected":null!=e.msgtype&&e.hasOwnProperty("msgtype")&&!l.isInteger(e.msgtype)?"msgtype: integer expected":null!=e.content&&e.hasOwnProperty("content")&&!l.isString(e.content)?"content: string expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.MessageReq)return e;var t=new u.msgpb.MessageReq;return null!=e.dst&&(t.dst=String(e.dst)),null!=e.msgtype&&(t.msgtype=0|e.msgtype),null!=e.content&&(t.content=String(e.content)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.dst="",n.msgtype=0,n.content=""),null!=e.dst&&e.hasOwnProperty("dst")&&(n.dst=e.dst),null!=e.msgtype&&e.hasOwnProperty("msgtype")&&(n.msgtype=e.msgtype),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.MessageRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.MessageRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.MessageRes)return e;var t=new u.msgpb.MessageRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.InformMessage=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.msgtype=0,t.prototype.src="",t.prototype.nick="",t.prototype.content="",t.prototype.avatar="",t.prototype.ctime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.msgtype&&e.hasOwnProperty("msgtype")&&t.uint32(8).int32(e.msgtype),null!=e.src&&e.hasOwnProperty("src")&&t.uint32(18).string(e.src),null!=e.nick&&e.hasOwnProperty("nick")&&t.uint32(26).string(e.nick),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(50).string(e.content),null!=e.avatar&&e.hasOwnProperty("avatar")&&t.uint32(74).string(e.avatar),null!=e.ctime&&e.hasOwnProperty("ctime")&&t.uint32(120).int64(e.ctime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.InformMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.msgtype=e.int32();break;case 2:i.src=e.string();break;case 3:i.nick=e.string();break;case 6:i.content=e.string();break;case 9:i.avatar=e.string();break;case 15:i.ctime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.msgtype&&e.hasOwnProperty("msgtype")&&!l.isInteger(e.msgtype)?"msgtype: integer expected":null!=e.src&&e.hasOwnProperty("src")&&!l.isString(e.src)?"src: string expected":null!=e.nick&&e.hasOwnProperty("nick")&&!l.isString(e.nick)?"nick: string expected":null!=e.content&&e.hasOwnProperty("content")&&!l.isString(e.content)?"content: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!l.isString(e.avatar)?"avatar: string expected":null!=e.ctime&&e.hasOwnProperty("ctime")&&!(l.isInteger(e.ctime)||e.ctime&&l.isInteger(e.ctime.low)&&l.isInteger(e.ctime.high))?"ctime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.InformMessage)return e;var t=new u.msgpb.InformMessage;return null!=e.msgtype&&(t.msgtype=0|e.msgtype),null!=e.src&&(t.src=String(e.src)),null!=e.nick&&(t.nick=String(e.nick)),null!=e.content&&(t.content=String(e.content)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.ctime&&(l.Long?(t.ctime=l.Long.fromValue(e.ctime)).unsigned=!1:"string"==typeof e.ctime?t.ctime=parseInt(e.ctime,10):"number"==typeof e.ctime?t.ctime=e.ctime:"object"===r(e.ctime)&&(t.ctime=new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.msgtype=0,n.src="",n.nick="",n.content="",n.avatar="",l.Long){var i=new l.Long(0,0,!1);n.ctime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.ctime=t.longs===String?"0":0;return null!=e.msgtype&&e.hasOwnProperty("msgtype")&&(n.msgtype=e.msgtype),null!=e.src&&e.hasOwnProperty("src")&&(n.src=e.src),null!=e.nick&&e.hasOwnProperty("nick")&&(n.nick=e.nick),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.ctime&&e.hasOwnProperty("ctime")&&("number"==typeof e.ctime?n.ctime=t.longs===String?String(e.ctime):e.ctime:n.ctime=t.longs===String?l.Long.prototype.toString.call(e.ctime):t.longs===Number?new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber():e.ctime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.InformSysBroadcast=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.msgtype=0,t.prototype.uid="",t.prototype.nick="",t.prototype.online=0,t.prototype.coin=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.content="",t.prototype.ctime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.msgtype&&e.hasOwnProperty("msgtype")&&t.uint32(8).int32(e.msgtype),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(18).string(e.uid),null!=e.nick&&e.hasOwnProperty("nick")&&t.uint32(26).string(e.nick),null!=e.online&&e.hasOwnProperty("online")&&t.uint32(32).int32(e.online),null!=e.coin&&e.hasOwnProperty("coin")&&t.uint32(40).int64(e.coin),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(114).string(e.content),null!=e.ctime&&e.hasOwnProperty("ctime")&&t.uint32(120).int64(e.ctime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.msgpb.InformSysBroadcast;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.msgtype=e.int32();break;case 2:i.uid=e.string();break;case 3:i.nick=e.string();break;case 4:i.online=e.int32();break;case 5:i.coin=e.int64();break;case 14:i.content=e.string();break;case 15:i.ctime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.msgtype&&e.hasOwnProperty("msgtype")&&!l.isInteger(e.msgtype)?"msgtype: integer expected":null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid)?"uid: string expected":null!=e.nick&&e.hasOwnProperty("nick")&&!l.isString(e.nick)?"nick: string expected":null!=e.online&&e.hasOwnProperty("online")&&!l.isInteger(e.online)?"online: integer expected":null!=e.coin&&e.hasOwnProperty("coin")&&!(l.isInteger(e.coin)||e.coin&&l.isInteger(e.coin.low)&&l.isInteger(e.coin.high))?"coin: integer|Long expected":null!=e.content&&e.hasOwnProperty("content")&&!l.isString(e.content)?"content: string expected":null!=e.ctime&&e.hasOwnProperty("ctime")&&!(l.isInteger(e.ctime)||e.ctime&&l.isInteger(e.ctime.low)&&l.isInteger(e.ctime.high))?"ctime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.msgpb.InformSysBroadcast)return e;var t=new u.msgpb.InformSysBroadcast;return null!=e.msgtype&&(t.msgtype=0|e.msgtype),null!=e.uid&&(t.uid=String(e.uid)),null!=e.nick&&(t.nick=String(e.nick)),null!=e.online&&(t.online=0|e.online),null!=e.coin&&(l.Long?(t.coin=l.Long.fromValue(e.coin)).unsigned=!1:"string"==typeof e.coin?t.coin=parseInt(e.coin,10):"number"==typeof e.coin?t.coin=e.coin:"object"===r(e.coin)&&(t.coin=new l.LongBits(e.coin.low>>>0,e.coin.high>>>0).toNumber())),null!=e.content&&(t.content=String(e.content)),null!=e.ctime&&(l.Long?(t.ctime=l.Long.fromValue(e.ctime)).unsigned=!1:"string"==typeof e.ctime?t.ctime=parseInt(e.ctime,10):"number"==typeof e.ctime?t.ctime=e.ctime:"object"===r(e.ctime)&&(t.ctime=new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.msgtype=0,n.uid="",n.nick="",n.online=0,l.Long){var i=new l.Long(0,0,!1);n.coin=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.coin=t.longs===String?"0":0;n.content="",l.Long?(i=new l.Long(0,0,!1),n.ctime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.ctime=t.longs===String?"0":0}return null!=e.msgtype&&e.hasOwnProperty("msgtype")&&(n.msgtype=e.msgtype),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),null!=e.nick&&e.hasOwnProperty("nick")&&(n.nick=e.nick),null!=e.online&&e.hasOwnProperty("online")&&(n.online=e.online),null!=e.coin&&e.hasOwnProperty("coin")&&("number"==typeof e.coin?n.coin=t.longs===String?String(e.coin):e.coin:n.coin=t.longs===String?l.Long.prototype.toString.call(e.coin):t.longs===Number?new l.LongBits(e.coin.low>>>0,e.coin.high>>>0).toNumber():e.coin),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.ctime&&e.hasOwnProperty("ctime")&&("number"==typeof e.ctime?n.ctime=t.longs===String?String(e.ctime):e.ctime:n.ctime=t.longs===String?l.Long.prototype.toString.call(e.ctime):t.longs===Number?new l.LongBits(e.ctime.low>>>0,e.ctime.high>>>0).toNumber():e.ctime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i),u.tankpb=((o={}).GameService=function(){function e(e,t,n){a.rpc.Service.call(this,e,t,n)}return((e.prototype=Object.create(a.rpc.Service.prototype)).constructor=e).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(e.prototype.stream=function e(t,n){return this.rpcCall(e,u.tankpb.Frame,u.tankpb.Frame,t,n)},"name",{value:"Stream"}),e}(),o.Frame=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.payload=l.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Frame;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.payload=e.bytes();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||l.isString(e.payload))?"payload: buffer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.Frame)return e;var t=new u.tankpb.Frame;return null!=e.payload&&("string"==typeof e.payload?l.base64.decode(e.payload,t.payload=l.newBuffer(l.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.payload="":(n.payload=[],t.bytes!==Array&&(n.payload=l.newBuffer(n.payload)))),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?l.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.Account=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.nick="",t.prototype.avatar="",t.prototype.gem=0,t.prototype.coin=0,t.prototype.score=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.online=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.nick&&e.hasOwnProperty("nick")&&t.uint32(26).string(e.nick),null!=e.avatar&&e.hasOwnProperty("avatar")&&t.uint32(42).string(e.avatar),null!=e.gem&&e.hasOwnProperty("gem")&&t.uint32(88).int32(e.gem),null!=e.coin&&e.hasOwnProperty("coin")&&t.uint32(96).int32(e.coin),null!=e.score&&e.hasOwnProperty("score")&&t.uint32(104).int64(e.score),null!=e.online&&e.hasOwnProperty("online")&&t.uint32(112).int32(e.online),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Account;e.pos<n;){var o=e.uint32();switch(o>>>3){case 3:i.nick=e.string();break;case 5:i.avatar=e.string();break;case 11:i.gem=e.int32();break;case 12:i.coin=e.int32();break;case 13:i.score=e.int64();break;case 14:i.online=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.nick&&e.hasOwnProperty("nick")&&!l.isString(e.nick)?"nick: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!l.isString(e.avatar)?"avatar: string expected":null!=e.gem&&e.hasOwnProperty("gem")&&!l.isInteger(e.gem)?"gem: integer expected":null!=e.coin&&e.hasOwnProperty("coin")&&!l.isInteger(e.coin)?"coin: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!(l.isInteger(e.score)||e.score&&l.isInteger(e.score.low)&&l.isInteger(e.score.high))?"score: integer|Long expected":null!=e.online&&e.hasOwnProperty("online")&&!l.isInteger(e.online)?"online: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.Account)return e;var t=new u.tankpb.Account;return null!=e.nick&&(t.nick=String(e.nick)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.gem&&(t.gem=0|e.gem),null!=e.coin&&(t.coin=0|e.coin),null!=e.score&&(l.Long?(t.score=l.Long.fromValue(e.score)).unsigned=!1:"string"==typeof e.score?t.score=parseInt(e.score,10):"number"==typeof e.score?t.score=e.score:"object"===r(e.score)&&(t.score=new l.LongBits(e.score.low>>>0,e.score.high>>>0).toNumber())),null!=e.online&&(t.online=0|e.online),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.nick="",n.avatar="",n.gem=0,n.coin=0,l.Long){var i=new l.Long(0,0,!1);n.score=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.score=t.longs===String?"0":0;n.online=0}return null!=e.nick&&e.hasOwnProperty("nick")&&(n.nick=e.nick),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.gem&&e.hasOwnProperty("gem")&&(n.gem=e.gem),null!=e.coin&&e.hasOwnProperty("coin")&&(n.coin=e.coin),null!=e.score&&e.hasOwnProperty("score")&&("number"==typeof e.score?n.score=t.longs===String?String(e.score):e.score:n.score=t.longs===String?l.Long.prototype.toString.call(e.score):t.longs===Number?new l.LongBits(e.score.low>>>0,e.score.high>>>0).toNumber():e.score),null!=e.online&&e.hasOwnProperty("online")&&(n.online=e.online),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.TankStats=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.healthRegen=0,t.prototype.maxHealth=0,t.prototype.bodyDamage=0,t.prototype.bulletSpeed=0,t.prototype.bulletHealth=0,t.prototype.bulletDamage=0,t.prototype.reload=0,t.prototype.movementSpeed=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.healthRegen&&e.hasOwnProperty("healthRegen")&&t.uint32(13).float(e.healthRegen),null!=e.maxHealth&&e.hasOwnProperty("maxHealth")&&t.uint32(21).float(e.maxHealth),null!=e.bodyDamage&&e.hasOwnProperty("bodyDamage")&&t.uint32(29).float(e.bodyDamage),null!=e.bulletSpeed&&e.hasOwnProperty("bulletSpeed")&&t.uint32(37).float(e.bulletSpeed),null!=e.bulletHealth&&e.hasOwnProperty("bulletHealth")&&t.uint32(45).float(e.bulletHealth),null!=e.bulletDamage&&e.hasOwnProperty("bulletDamage")&&t.uint32(53).float(e.bulletDamage),null!=e.reload&&e.hasOwnProperty("reload")&&t.uint32(61).float(e.reload),null!=e.movementSpeed&&e.hasOwnProperty("movementSpeed")&&t.uint32(69).float(e.movementSpeed),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.TankStats;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.healthRegen=e.float();break;case 2:i.maxHealth=e.float();break;case 3:i.bodyDamage=e.float();break;case 4:i.bulletSpeed=e.float();break;case 5:i.bulletHealth=e.float();break;case 6:i.bulletDamage=e.float();break;case 7:i.reload=e.float();break;case 8:i.movementSpeed=e.float();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.healthRegen&&e.hasOwnProperty("healthRegen")&&"number"!=typeof e.healthRegen?"healthRegen: number expected":null!=e.maxHealth&&e.hasOwnProperty("maxHealth")&&"number"!=typeof e.maxHealth?"maxHealth: number expected":null!=e.bodyDamage&&e.hasOwnProperty("bodyDamage")&&"number"!=typeof e.bodyDamage?"bodyDamage: number expected":null!=e.bulletSpeed&&e.hasOwnProperty("bulletSpeed")&&"number"!=typeof e.bulletSpeed?"bulletSpeed: number expected":null!=e.bulletHealth&&e.hasOwnProperty("bulletHealth")&&"number"!=typeof e.bulletHealth?"bulletHealth: number expected":null!=e.bulletDamage&&e.hasOwnProperty("bulletDamage")&&"number"!=typeof e.bulletDamage?"bulletDamage: number expected":null!=e.reload&&e.hasOwnProperty("reload")&&"number"!=typeof e.reload?"reload: number expected":null!=e.movementSpeed&&e.hasOwnProperty("movementSpeed")&&"number"!=typeof e.movementSpeed?"movementSpeed: number expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.TankStats)return e;var t=new u.tankpb.TankStats;return null!=e.healthRegen&&(t.healthRegen=Number(e.healthRegen)),null!=e.maxHealth&&(t.maxHealth=Number(e.maxHealth)),null!=e.bodyDamage&&(t.bodyDamage=Number(e.bodyDamage)),null!=e.bulletSpeed&&(t.bulletSpeed=Number(e.bulletSpeed)),null!=e.bulletHealth&&(t.bulletHealth=Number(e.bulletHealth)),null!=e.bulletDamage&&(t.bulletDamage=Number(e.bulletDamage)),null!=e.reload&&(t.reload=Number(e.reload)),null!=e.movementSpeed&&(t.movementSpeed=Number(e.movementSpeed)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.healthRegen=0,n.maxHealth=0,n.bodyDamage=0,n.bulletSpeed=0,n.bulletHealth=0,n.bulletDamage=0,n.reload=0,n.movementSpeed=0),null!=e.healthRegen&&e.hasOwnProperty("healthRegen")&&(n.healthRegen=t.json&&!isFinite(e.healthRegen)?String(e.healthRegen):e.healthRegen),null!=e.maxHealth&&e.hasOwnProperty("maxHealth")&&(n.maxHealth=t.json&&!isFinite(e.maxHealth)?String(e.maxHealth):e.maxHealth),null!=e.bodyDamage&&e.hasOwnProperty("bodyDamage")&&(n.bodyDamage=t.json&&!isFinite(e.bodyDamage)?String(e.bodyDamage):e.bodyDamage),null!=e.bulletSpeed&&e.hasOwnProperty("bulletSpeed")&&(n.bulletSpeed=t.json&&!isFinite(e.bulletSpeed)?String(e.bulletSpeed):e.bulletSpeed),null!=e.bulletHealth&&e.hasOwnProperty("bulletHealth")&&(n.bulletHealth=t.json&&!isFinite(e.bulletHealth)?String(e.bulletHealth):e.bulletHealth),null!=e.bulletDamage&&e.hasOwnProperty("bulletDamage")&&(n.bulletDamage=t.json&&!isFinite(e.bulletDamage)?String(e.bulletDamage):e.bulletDamage),null!=e.reload&&e.hasOwnProperty("reload")&&(n.reload=t.json&&!isFinite(e.reload)?String(e.reload):e.reload),null!=e.movementSpeed&&e.hasOwnProperty("movementSpeed")&&(n.movementSpeed=t.json&&!isFinite(e.movementSpeed)?String(e.movementSpeed):e.movementSpeed),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.Vec2=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.x=0,t.prototype.y=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.x&&e.hasOwnProperty("x")&&t.uint32(8).int32(e.x),null!=e.y&&e.hasOwnProperty("y")&&t.uint32(16).int32(e.y),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Vec2;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.x=e.int32();break;case 2:i.y=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!l.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!l.isInteger(e.y)?"y: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.Vec2)return e;var t=new u.tankpb.Vec2;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.PlayerState=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.position=null,t.prototype.velocity=null,t.prototype.angle=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.position&&e.hasOwnProperty("position")&&u.tankpb.Vec2.encode(e.position,t.uint32(10).fork()).ldelim(),null!=e.velocity&&e.hasOwnProperty("velocity")&&u.tankpb.Vec2.encode(e.velocity,t.uint32(18).fork()).ldelim(),null!=e.angle&&e.hasOwnProperty("angle")&&t.uint32(64).int32(e.angle),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.PlayerState;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.position=u.tankpb.Vec2.decode(e,e.uint32());break;case 2:i.velocity=u.tankpb.Vec2.decode(e,e.uint32());break;case 8:i.angle=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.position&&e.hasOwnProperty("position")&&(t=u.tankpb.Vec2.verify(e.position))?"position."+t:null!=e.velocity&&e.hasOwnProperty("velocity")&&(t=u.tankpb.Vec2.verify(e.velocity))?"velocity."+t:null!=e.angle&&e.hasOwnProperty("angle")&&!l.isInteger(e.angle)?"angle: integer expected":null;var t},t.fromObject=function(e){if(e instanceof u.tankpb.PlayerState)return e;var t=new u.tankpb.PlayerState;if(null!=e.position){if("object"!==r(e.position))throw TypeError(".tankpb.PlayerState.position: object expected");t.position=u.tankpb.Vec2.fromObject(e.position)}if(null!=e.velocity){if("object"!==r(e.velocity))throw TypeError(".tankpb.PlayerState.velocity: object expected");t.velocity=u.tankpb.Vec2.fromObject(e.velocity)}return null!=e.angle&&(t.angle=0|e.angle),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.position=null,n.velocity=null,n.angle=0),null!=e.position&&e.hasOwnProperty("position")&&(n.position=u.tankpb.Vec2.toObject(e.position,t)),null!=e.velocity&&e.hasOwnProperty("velocity")&&(n.velocity=u.tankpb.Vec2.toObject(e.velocity,t)),null!=e.angle&&e.hasOwnProperty("angle")&&(n.angle=e.angle),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.BattleState=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.tank=0,t.prototype.score=0,t.prototype.health=0,t.prototype.state=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.tank&&e.hasOwnProperty("tank")&&t.uint32(8).int32(e.tank),null!=e.score&&e.hasOwnProperty("score")&&t.uint32(16).int32(e.score),null!=e.health&&e.hasOwnProperty("health")&&t.uint32(24).int32(e.health),null!=e.state&&e.hasOwnProperty("state")&&u.tankpb.PlayerState.encode(e.state,t.uint32(34).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.BattleState;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.tank=e.int32();break;case 2:i.score=e.int32();break;case 3:i.health=e.int32();break;case 4:i.state=u.tankpb.PlayerState.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.tank&&e.hasOwnProperty("tank")&&!l.isInteger(e.tank))return"tank: integer expected";if(null!=e.score&&e.hasOwnProperty("score")&&!l.isInteger(e.score))return"score: integer expected";if(null!=e.health&&e.hasOwnProperty("health")&&!l.isInteger(e.health))return"health: integer expected";if(null!=e.state&&e.hasOwnProperty("state")){var t=u.tankpb.PlayerState.verify(e.state);if(t)return"state."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.BattleState)return e;var t=new u.tankpb.BattleState;if(null!=e.tank&&(t.tank=0|e.tank),null!=e.score&&(t.score=0|e.score),null!=e.health&&(t.health=0|e.health),null!=e.state){if("object"!==r(e.state))throw TypeError(".tankpb.BattleState.state: object expected");t.state=u.tankpb.PlayerState.fromObject(e.state)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.tank=0,n.score=0,n.health=0,n.state=null),null!=e.tank&&e.hasOwnProperty("tank")&&(n.tank=e.tank),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.health&&e.hasOwnProperty("health")&&(n.health=e.health),null!=e.state&&e.hasOwnProperty("state")&&(n.state=u.tankpb.PlayerState.toObject(e.state,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.Player=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid="",t.prototype.index=0,t.prototype.tank=0,t.prototype.score=0,t.prototype.level=0,t.prototype.health=0,t.prototype.status=0,t.prototype.state=null,t.prototype.info=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(10).string(e.uid),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(16).int32(e.index),null!=e.tank&&e.hasOwnProperty("tank")&&t.uint32(24).int32(e.tank),null!=e.score&&e.hasOwnProperty("score")&&t.uint32(32).int32(e.score),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(40).int32(e.level),null!=e.health&&e.hasOwnProperty("health")&&t.uint32(48).int32(e.health),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(56).int32(e.status),null!=e.state&&e.hasOwnProperty("state")&&u.tankpb.PlayerState.encode(e.state,t.uint32(74).fork()).ldelim(),null!=e.info&&e.hasOwnProperty("info")&&u.tankpb.Account.encode(e.info,t.uint32(82).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Player;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.string();break;case 2:i.index=e.int32();break;case 3:i.tank=e.int32();break;case 4:i.score=e.int32();break;case 5:i.level=e.int32();break;case 6:i.health=e.int32();break;case 7:i.status=e.int32();break;case 9:i.state=u.tankpb.PlayerState.decode(e,e.uint32());break;case 10:i.info=u.tankpb.Account.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid)?"uid: string expected":null!=e.index&&e.hasOwnProperty("index")&&!l.isInteger(e.index)?"index: integer expected":null!=e.tank&&e.hasOwnProperty("tank")&&!l.isInteger(e.tank)?"tank: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!l.isInteger(e.score)?"score: integer expected":null!=e.level&&e.hasOwnProperty("level")&&!l.isInteger(e.level)?"level: integer expected":null!=e.health&&e.hasOwnProperty("health")&&!l.isInteger(e.health)?"health: integer expected":null!=e.status&&e.hasOwnProperty("status")&&!l.isInteger(e.status)?"status: integer expected":null!=e.state&&e.hasOwnProperty("state")&&(t=u.tankpb.PlayerState.verify(e.state))?"state."+t:null!=e.info&&e.hasOwnProperty("info")&&(t=u.tankpb.Account.verify(e.info))?"info."+t:null;var t},t.fromObject=function(e){if(e instanceof u.tankpb.Player)return e;var t=new u.tankpb.Player;if(null!=e.uid&&(t.uid=String(e.uid)),null!=e.index&&(t.index=0|e.index),null!=e.tank&&(t.tank=0|e.tank),null!=e.score&&(t.score=0|e.score),null!=e.level&&(t.level=0|e.level),null!=e.health&&(t.health=0|e.health),null!=e.status&&(t.status=0|e.status),null!=e.state){if("object"!==r(e.state))throw TypeError(".tankpb.Player.state: object expected");t.state=u.tankpb.PlayerState.fromObject(e.state)}if(null!=e.info){if("object"!==r(e.info))throw TypeError(".tankpb.Player.info: object expected");t.info=u.tankpb.Account.fromObject(e.info)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid="",n.index=0,n.tank=0,n.score=0,n.level=0,n.health=0,n.status=0,n.state=null,n.info=null),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.tank&&e.hasOwnProperty("tank")&&(n.tank=e.tank),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.health&&e.hasOwnProperty("health")&&(n.health=e.health),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.state&&e.hasOwnProperty("state")&&(n.state=u.tankpb.PlayerState.toObject(e.state,t)),null!=e.info&&e.hasOwnProperty("info")&&(n.info=u.tankpb.Account.toObject(e.info,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.Feed=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.kind=0,t.prototype.pos=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.kind&&e.hasOwnProperty("kind")&&t.uint32(16).int32(e.kind),null!=e.pos&&e.hasOwnProperty("pos")&&u.tankpb.Vec2.encode(e.pos,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Feed;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.kind=e.int32();break;case 3:i.pos=u.tankpb.Vec2.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!l.isInteger(e.id))return"id: integer expected";if(null!=e.kind&&e.hasOwnProperty("kind")&&!l.isInteger(e.kind))return"kind: integer expected";if(null!=e.pos&&e.hasOwnProperty("pos")){var t=u.tankpb.Vec2.verify(e.pos);if(t)return"pos."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.Feed)return e;var t=new u.tankpb.Feed;if(null!=e.id&&(t.id=0|e.id),null!=e.kind&&(t.kind=0|e.kind),null!=e.pos){if("object"!==r(e.pos))throw TypeError(".tankpb.Feed.pos: object expected");t.pos=u.tankpb.Vec2.fromObject(e.pos)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.kind=0,n.pos=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.pos&&e.hasOwnProperty("pos")&&(n.pos=u.tankpb.Vec2.toObject(e.pos,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.Arena=function(){function t(e){if(this.players=[],this.feeds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.mtime=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.step=0,t.prototype.players=l.emptyArray,t.prototype.expire=0,t.prototype.status="",t.prototype.arenaId=0,t.prototype.feeds=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=c.create()),null!=e.mtime&&e.hasOwnProperty("mtime")&&t.uint32(16).int64(e.mtime),null!=e.step&&e.hasOwnProperty("step")&&t.uint32(24).int32(e.step),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)u.tankpb.Player.encode(e.players[n],t.uint32(34).fork()).ldelim();if(null!=e.expire&&e.hasOwnProperty("expire")&&t.uint32(40).int32(e.expire),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(50).string(e.status),null!=e.arenaId&&e.hasOwnProperty("arenaId")&&t.uint32(56).int32(e.arenaId),null!=e.feeds&&e.feeds.length)for(n=0;n<e.feeds.length;++n)u.tankpb.Feed.encode(e.feeds[n],t.uint32(66).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.Arena;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:i.mtime=e.int64();break;case 3:i.step=e.int32();break;case 4:i.players&&i.players.length||(i.players=[]),i.players.push(u.tankpb.Player.decode(e,e.uint32()));break;case 5:i.expire=e.int32();break;case 6:i.status=e.string();break;case 7:i.arenaId=e.int32();break;case 8:i.feeds&&i.feeds.length||(i.feeds=[]),i.feeds.push(u.tankpb.Feed.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.mtime&&e.hasOwnProperty("mtime")&&!(l.isInteger(e.mtime)||e.mtime&&l.isInteger(e.mtime.low)&&l.isInteger(e.mtime.high)))return"mtime: integer|Long expected";if(null!=e.step&&e.hasOwnProperty("step")&&!l.isInteger(e.step))return"step: integer expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t)if(n=u.tankpb.Player.verify(e.players[t]))return"players."+n}if(null!=e.expire&&e.hasOwnProperty("expire")&&!l.isInteger(e.expire))return"expire: integer expected";if(null!=e.status&&e.hasOwnProperty("status")&&!l.isString(e.status))return"status: string expected";if(null!=e.arenaId&&e.hasOwnProperty("arenaId")&&!l.isInteger(e.arenaId))return"arenaId: integer expected";if(null!=e.feeds&&e.hasOwnProperty("feeds")){if(!Array.isArray(e.feeds))return"feeds: array expected";for(t=0;t<e.feeds.length;++t){var n;if(n=u.tankpb.Feed.verify(e.feeds[t]))return"feeds."+n}}return null},t.fromObject=function(e){if(e instanceof u.tankpb.Arena)return e;var t=new u.tankpb.Arena;if(null!=e.mtime&&(l.Long?(t.mtime=l.Long.fromValue(e.mtime)).unsigned=!1:"string"==typeof e.mtime?t.mtime=parseInt(e.mtime,10):"number"==typeof e.mtime?t.mtime=e.mtime:"object"===r(e.mtime)&&(t.mtime=new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber())),null!=e.step&&(t.step=0|e.step),e.players){if(!Array.isArray(e.players))throw TypeError(".tankpb.Arena.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!==r(e.players[n]))throw TypeError(".tankpb.Arena.players: object expected");t.players[n]=u.tankpb.Player.fromObject(e.players[n])}}if(null!=e.expire&&(t.expire=0|e.expire),null!=e.status&&(t.status=String(e.status)),null!=e.arenaId&&(t.arenaId=0|e.arenaId),e.feeds){if(!Array.isArray(e.feeds))throw TypeError(".tankpb.Arena.feeds: array expected");for(t.feeds=[],n=0;n<e.feeds.length;++n){if("object"!==r(e.feeds[n]))throw TypeError(".tankpb.Arena.feeds: object expected");t.feeds[n]=u.tankpb.Feed.fromObject(e.feeds[n])}}return t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[],n.feeds=[]),t.defaults){if(l.Long){var i=new l.Long(0,0,!1);n.mtime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.mtime=t.longs===String?"0":0;n.step=0,n.expire=0,n.status="",n.arenaId=0}if(null!=e.mtime&&e.hasOwnProperty("mtime")&&("number"==typeof e.mtime?n.mtime=t.longs===String?String(e.mtime):e.mtime:n.mtime=t.longs===String?l.Long.prototype.toString.call(e.mtime):t.longs===Number?new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber():e.mtime),null!=e.step&&e.hasOwnProperty("step")&&(n.step=e.step),e.players&&e.players.length){n.players=[];for(var o=0;o<e.players.length;++o)n.players[o]=u.tankpb.Player.toObject(e.players[o],t)}if(null!=e.expire&&e.hasOwnProperty("expire")&&(n.expire=e.expire),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.arenaId&&e.hasOwnProperty("arenaId")&&(n.arenaId=e.arenaId),e.feeds&&e.feeds.length)for(n.feeds=[],o=0;o<e.feeds.length;++o)n.feeds[o]=u.tankpb.Feed.toObject(e.feeds[o],t);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.EnterArenaReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid="",t.prototype.track=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(10).string(e.uid),null!=e.track&&e.hasOwnProperty("track")&&t.uint32(16).int32(e.track),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.EnterArenaReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.string();break;case 2:i.track=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid)?"uid: string expected":null!=e.track&&e.hasOwnProperty("track")&&!l.isInteger(e.track)?"track: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.EnterArenaReq)return e;var t=new u.tankpb.EnterArenaReq;return null!=e.uid&&(t.uid=String(e.uid)),null!=e.track&&(t.track=0|e.track),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid="",n.track=0),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),null!=e.track&&e.hasOwnProperty("track")&&(n.track=e.track),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.EnterArenaRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.prototype.arena=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),null!=e.arena&&e.hasOwnProperty("arena")&&u.tankpb.Arena.encode(e.arena,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.EnterArenaRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;case 2:i.arena=u.tankpb.Arena.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code))return"code: integer expected";if(null!=e.arena&&e.hasOwnProperty("arena")){var t=u.tankpb.Arena.verify(e.arena);if(t)return"arena."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.EnterArenaRes)return e;var t=new u.tankpb.EnterArenaRes;if(null!=e.code&&(t.code=0|e.code),null!=e.arena){if("object"!==r(e.arena))throw TypeError(".tankpb.EnterArenaRes.arena: object expected");t.arena=u.tankpb.Arena.fromObject(e.arena)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.arena=null),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.arena&&e.hasOwnProperty("arena")&&(n.arena=u.tankpb.Arena.toObject(e.arena,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.ExitArenaReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.ExitArenaReq;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},t.fromObject=function(e){return e instanceof u.tankpb.ExitArenaReq?e:new u.tankpb.ExitArenaReq},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.ExitArenaRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.ExitArenaRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.ExitArenaRes)return e;var t=new u.tankpb.ExitArenaRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.JoinPlayReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.JoinPlayReq;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},t.fromObject=function(e){return e instanceof u.tankpb.JoinPlayReq?e:new u.tankpb.JoinPlayReq},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.JoinPlayRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.prototype.player=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),null!=e.player&&e.hasOwnProperty("player")&&u.tankpb.Player.encode(e.player,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.JoinPlayRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;case 2:i.player=u.tankpb.Player.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code))return"code: integer expected";if(null!=e.player&&e.hasOwnProperty("player")){var t=u.tankpb.Player.verify(e.player);if(t)return"player."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.JoinPlayRes)return e;var t=new u.tankpb.JoinPlayRes;if(null!=e.code&&(t.code=0|e.code),null!=e.player){if("object"!==r(e.player))throw TypeError(".tankpb.JoinPlayRes.player: object expected");t.player=u.tankpb.Player.fromObject(e.player)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.player=null),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.player&&e.hasOwnProperty("player")&&(n.player=u.tankpb.Player.toObject(e.player,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.UpdateNetReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.delay=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.delay&&e.hasOwnProperty("delay")&&t.uint32(8).int32(e.delay),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.UpdateNetReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.delay=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.delay&&e.hasOwnProperty("delay")&&!l.isInteger(e.delay)?"delay: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.UpdateNetReq)return e;var t=new u.tankpb.UpdateNetReq;return null!=e.delay&&(t.delay=0|e.delay),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.delay=0),null!=e.delay&&e.hasOwnProperty("delay")&&(n.delay=e.delay),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.UpdateNetRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.UpdateNetRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.UpdateNetRes)return e;var t=new u.tankpb.UpdateNetRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.UpdateStateReq=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.seq=0,t.prototype.state=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.seq&&e.hasOwnProperty("seq")&&t.uint32(8).int32(e.seq),null!=e.state&&e.hasOwnProperty("state")&&u.tankpb.PlayerState.encode(e.state,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.UpdateStateReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.seq=e.int32();break;case 2:i.state=u.tankpb.PlayerState.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.seq&&e.hasOwnProperty("seq")&&!l.isInteger(e.seq))return"seq: integer expected";if(null!=e.state&&e.hasOwnProperty("state")){var t=u.tankpb.PlayerState.verify(e.state);if(t)return"state."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.UpdateStateReq)return e;var t=new u.tankpb.UpdateStateReq;if(null!=e.seq&&(t.seq=0|e.seq),null!=e.state){if("object"!==r(e.state))throw TypeError(".tankpb.UpdateStateReq.state: object expected");t.state=u.tankpb.PlayerState.fromObject(e.state)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.seq=0,n.state=null),null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),null!=e.state&&e.hasOwnProperty("state")&&(n.state=u.tankpb.PlayerState.toObject(e.state,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.UpdateStateRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.prototype.seq=0,t.prototype.state=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),null!=e.seq&&e.hasOwnProperty("seq")&&t.uint32(16).int32(e.seq),null!=e.state&&e.hasOwnProperty("state")&&u.tankpb.BattleState.encode(e.state,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.UpdateStateRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;case 2:i.seq=e.int32();break;case 3:i.state=u.tankpb.BattleState.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code))return"code: integer expected";if(null!=e.seq&&e.hasOwnProperty("seq")&&!l.isInteger(e.seq))return"seq: integer expected";if(null!=e.state&&e.hasOwnProperty("state")){var t=u.tankpb.BattleState.verify(e.state);if(t)return"state."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.UpdateStateRes)return e;var t=new u.tankpb.UpdateStateRes;if(null!=e.code&&(t.code=0|e.code),null!=e.seq&&(t.seq=0|e.seq),null!=e.state){if("object"!==r(e.state))throw TypeError(".tankpb.UpdateStateRes.state: object expected");t.state=u.tankpb.BattleState.fromObject(e.state)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0,n.seq=0,n.state=null),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),null!=e.state&&e.hasOwnProperty("state")&&(n.state=u.tankpb.BattleState.toObject(e.state,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.FireReq=function(){function t(e){if(this.states=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.states=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=c.create()),null!=e.states&&e.states.length)for(var n=0;n<e.states.length;++n)u.tankpb.PlayerState.encode(e.states[n],t.uint32(18).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.FireReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 2:i.states&&i.states.length||(i.states=[]),i.states.push(u.tankpb.PlayerState.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.states&&e.hasOwnProperty("states")){if(!Array.isArray(e.states))return"states: array expected";for(var t=0;t<e.states.length;++t){var n=u.tankpb.PlayerState.verify(e.states[t]);if(n)return"states."+n}}return null},t.fromObject=function(e){if(e instanceof u.tankpb.FireReq)return e;var t=new u.tankpb.FireReq;if(e.states){if(!Array.isArray(e.states))throw TypeError(".tankpb.FireReq.states: array expected");t.states=[];for(var n=0;n<e.states.length;++n){if("object"!==r(e.states[n]))throw TypeError(".tankpb.FireReq.states: object expected");t.states[n]=u.tankpb.PlayerState.fromObject(e.states[n])}}return t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.states=[]),e.states&&e.states.length){n.states=[];for(var i=0;i<e.states.length;++i)n.states[i]=u.tankpb.PlayerState.toObject(e.states[i],t)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.FireRes=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.code=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).int32(e.code),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.FireRes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!l.isInteger(e.code)?"code: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.FireRes)return e;var t=new u.tankpb.FireRes;return null!=e.code&&(t.code=0|e.code),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformEnterArena=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.player=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.player&&e.hasOwnProperty("player")&&u.tankpb.Player.encode(e.player,t.uint32(10).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformEnterArena;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.player=u.tankpb.Player.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.player&&e.hasOwnProperty("player")){var t=u.tankpb.Player.verify(e.player);if(t)return"player."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformEnterArena)return e;var t=new u.tankpb.InformEnterArena;if(null!=e.player){if("object"!==r(e.player))throw TypeError(".tankpb.InformEnterArena.player: object expected");t.player=u.tankpb.Player.fromObject(e.player)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.player=null),null!=e.player&&e.hasOwnProperty("player")&&(n.player=u.tankpb.Player.toObject(e.player,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformExitArena=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(10).string(e.uid),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformExitArena;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.string();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid)?"uid: string expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.InformExitArena)return e;var t=new u.tankpb.InformExitArena;return null!=e.uid&&(t.uid=String(e.uid)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid=""),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformJoinPlay=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uid="",t.prototype.player=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(10).string(e.uid),null!=e.player&&e.hasOwnProperty("player")&&u.tankpb.Player.encode(e.player,t.uint32(18).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformJoinPlay;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.uid=e.string();break;case 2:i.player=u.tankpb.Player.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!l.isString(e.uid))return"uid: string expected";if(null!=e.player&&e.hasOwnProperty("player")){var t=u.tankpb.Player.verify(e.player);if(t)return"player."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformJoinPlay)return e;var t=new u.tankpb.InformJoinPlay;if(null!=e.uid&&(t.uid=String(e.uid)),null!=e.player){if("object"!==r(e.player))throw TypeError(".tankpb.InformJoinPlay.player: object expected");t.player=u.tankpb.Player.fromObject(e.player)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid="",n.player=null),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),null!=e.player&&e.hasOwnProperty("player")&&(n.player=u.tankpb.Player.toObject(e.player,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformBattleBegin=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.mtime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.mtime&&e.hasOwnProperty("mtime")&&t.uint32(8).int64(e.mtime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformBattleBegin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mtime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.mtime&&e.hasOwnProperty("mtime")&&!(l.isInteger(e.mtime)||e.mtime&&l.isInteger(e.mtime.low)&&l.isInteger(e.mtime.high))?"mtime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.InformBattleBegin)return e;var t=new u.tankpb.InformBattleBegin;return null!=e.mtime&&(l.Long?(t.mtime=l.Long.fromValue(e.mtime)).unsigned=!1:"string"==typeof e.mtime?t.mtime=parseInt(e.mtime,10):"number"==typeof e.mtime?t.mtime=e.mtime:"object"===r(e.mtime)&&(t.mtime=new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(l.Long){var i=new l.Long(0,0,!1);n.mtime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.mtime=t.longs===String?"0":0;return null!=e.mtime&&e.hasOwnProperty("mtime")&&("number"==typeof e.mtime?n.mtime=t.longs===String?String(e.mtime):e.mtime:n.mtime=t.longs===String?l.Long.prototype.toString.call(e.mtime):t.longs===Number?new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber():e.mtime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformUpdateState=function(){function t(e){if(this.states={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.seq=0,t.prototype.states=l.emptyObject,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=c.create()),null!=e.seq&&e.hasOwnProperty("seq")&&t.uint32(8).int32(e.seq),null!=e.states&&e.hasOwnProperty("states"))for(var n=Object.keys(e.states),i=0;i<n.length;++i)t.uint32(18).fork().uint32(8).int32(n[i]),u.tankpb.BattleState.encode(e.states[n[i]],t.uint32(18).fork()).ldelim().ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n,i=void 0===t?e.len:e.pos+t,o=new u.tankpb.InformUpdateState;e.pos<i;){var r=e.uint32();switch(r>>>3){case 1:o.seq=e.int32();break;case 2:e.skip().pos++,o.states===l.emptyObject&&(o.states={}),n=e.int32(),e.pos++,o.states[n]=u.tankpb.BattleState.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.seq&&e.hasOwnProperty("seq")&&!l.isInteger(e.seq))return"seq: integer expected";if(null!=e.states&&e.hasOwnProperty("states")){if(!l.isObject(e.states))return"states: object expected";for(var t=Object.keys(e.states),n=0;n<t.length;++n){if(!l.key32Re.test(t[n]))return"states: integer key{k:int32} expected";var i=u.tankpb.BattleState.verify(e.states[t[n]]);if(i)return"states."+i}}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformUpdateState)return e;var t=new u.tankpb.InformUpdateState;if(null!=e.seq&&(t.seq=0|e.seq),e.states){if("object"!==r(e.states))throw TypeError(".tankpb.InformUpdateState.states: object expected");t.states={};for(var n=Object.keys(e.states),i=0;i<n.length;++i){if("object"!==r(e.states[n[i]]))throw TypeError(".tankpb.InformUpdateState.states: object expected");t.states[n[i]]=u.tankpb.BattleState.fromObject(e.states[n[i]])}}return t},t.toObject=function(e,t){t||(t={});var n,i={};if((t.objects||t.defaults)&&(i.states={}),t.defaults&&(i.seq=0),null!=e.seq&&e.hasOwnProperty("seq")&&(i.seq=e.seq),e.states&&(n=Object.keys(e.states)).length){i.states={};for(var o=0;o<n.length;++o)i.states[n[o]]=u.tankpb.BattleState.toObject(e.states[n[o]],t)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformBattleEnd=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.mtime=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.mtime&&e.hasOwnProperty("mtime")&&t.uint32(8).int64(e.mtime),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformBattleEnd;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mtime=e.int64();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.mtime&&e.hasOwnProperty("mtime")&&!(l.isInteger(e.mtime)||e.mtime&&l.isInteger(e.mtime.low)&&l.isInteger(e.mtime.high))?"mtime: integer|Long expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.InformBattleEnd)return e;var t=new u.tankpb.InformBattleEnd;return null!=e.mtime&&(l.Long?(t.mtime=l.Long.fromValue(e.mtime)).unsigned=!1:"string"==typeof e.mtime?t.mtime=parseInt(e.mtime,10):"number"==typeof e.mtime?t.mtime=e.mtime:"object"===r(e.mtime)&&(t.mtime=new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber())),t},t.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(l.Long){var i=new l.Long(0,0,!1);n.mtime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.mtime=t.longs===String?"0":0;return null!=e.mtime&&e.hasOwnProperty("mtime")&&("number"==typeof e.mtime?n.mtime=t.longs===String?String(e.mtime):e.mtime:n.mtime=t.longs===String?l.Long.prototype.toString.call(e.mtime):t.longs===Number?new l.LongBits(e.mtime.low>>>0,e.mtime.high>>>0).toNumber():e.mtime),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformBeenKilled=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.dead=0,t.prototype.killer=0,t.prototype.score=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.dead&&e.hasOwnProperty("dead")&&t.uint32(8).int32(e.dead),null!=e.killer&&e.hasOwnProperty("killer")&&t.uint32(16).int32(e.killer),null!=e.score&&e.hasOwnProperty("score")&&t.uint32(24).int32(e.score),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformBeenKilled;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.dead=e.int32();break;case 2:i.killer=e.int32();break;case 3:i.score=e.int32();break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.dead&&e.hasOwnProperty("dead")&&!l.isInteger(e.dead)?"dead: integer expected":null!=e.killer&&e.hasOwnProperty("killer")&&!l.isInteger(e.killer)?"killer: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!l.isInteger(e.score)?"score: integer expected":null},t.fromObject=function(e){if(e instanceof u.tankpb.InformBeenKilled)return e;var t=new u.tankpb.InformBeenKilled;return null!=e.dead&&(t.dead=0|e.dead),null!=e.killer&&(t.killer=0|e.killer),null!=e.score&&(t.score=0|e.score),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.dead=0,n.killer=0,n.score=0),null!=e.dead&&e.hasOwnProperty("dead")&&(n.dead=e.dead),null!=e.killer&&e.hasOwnProperty("killer")&&(n.killer=e.killer),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformFire=function(){function t(e){if(this.states=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.index=0,t.prototype.states=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=c.create()),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(8).int32(e.index),null!=e.states&&e.states.length)for(var n=0;n<e.states.length;++n)u.tankpb.PlayerState.encode(e.states[n],t.uint32(18).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformFire;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.index=e.int32();break;case 2:i.states&&i.states.length||(i.states=[]),i.states.push(u.tankpb.PlayerState.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.index&&e.hasOwnProperty("index")&&!l.isInteger(e.index))return"index: integer expected";if(null!=e.states&&e.hasOwnProperty("states")){if(!Array.isArray(e.states))return"states: array expected";for(var t=0;t<e.states.length;++t){var n=u.tankpb.PlayerState.verify(e.states[t]);if(n)return"states."+n}}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformFire)return e;var t=new u.tankpb.InformFire;if(null!=e.index&&(t.index=0|e.index),e.states){if(!Array.isArray(e.states))throw TypeError(".tankpb.InformFire.states: array expected");t.states=[];for(var n=0;n<e.states.length;++n){if("object"!==r(e.states[n]))throw TypeError(".tankpb.InformFire.states: object expected");t.states[n]=u.tankpb.PlayerState.fromObject(e.states[n])}}return t},t.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.states=[]),t.defaults&&(n.index=0),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),e.states&&e.states.length){n.states=[];for(var i=0;i<e.states.length;++i)n.states[i]=u.tankpb.PlayerState.toObject(e.states[i],t)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformFeedJoin=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.kind=0,t.prototype.pos=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.kind&&e.hasOwnProperty("kind")&&t.uint32(16).int32(e.kind),null!=e.pos&&e.hasOwnProperty("pos")&&u.tankpb.Vec2.encode(e.pos,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformFeedJoin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.kind=e.int32();break;case 3:i.pos=u.tankpb.Vec2.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!l.isInteger(e.id))return"id: integer expected";if(null!=e.kind&&e.hasOwnProperty("kind")&&!l.isInteger(e.kind))return"kind: integer expected";if(null!=e.pos&&e.hasOwnProperty("pos")){var t=u.tankpb.Vec2.verify(e.pos);if(t)return"pos."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformFeedJoin)return e;var t=new u.tankpb.InformFeedJoin;if(null!=e.id&&(t.id=0|e.id),null!=e.kind&&(t.kind=0|e.kind),null!=e.pos){if("object"!==r(e.pos))throw TypeError(".tankpb.InformFeedJoin.pos: object expected");t.pos=u.tankpb.Vec2.fromObject(e.pos)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.kind=0,n.pos=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.pos&&e.hasOwnProperty("pos")&&(n.pos=u.tankpb.Vec2.toObject(e.pos,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o.InformFeedBeenAte=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.id=0,t.prototype.eater=0,t.prototype.tank=0,t.prototype.state=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=c.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.eater&&e.hasOwnProperty("eater")&&t.uint32(16).int32(e.eater),null!=e.tank&&e.hasOwnProperty("tank")&&t.uint32(24).int32(e.tank),null!=e.state&&e.hasOwnProperty("state")&&u.tankpb.BattleState.encode(e.state,t.uint32(34).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.tankpb.InformFeedBeenAte;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.eater=e.int32();break;case 3:i.tank=e.int32();break;case 4:i.state=u.tankpb.BattleState.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},t.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!l.isInteger(e.id))return"id: integer expected";if(null!=e.eater&&e.hasOwnProperty("eater")&&!l.isInteger(e.eater))return"eater: integer expected";if(null!=e.tank&&e.hasOwnProperty("tank")&&!l.isInteger(e.tank))return"tank: integer expected";if(null!=e.state&&e.hasOwnProperty("state")){var t=u.tankpb.BattleState.verify(e.state);if(t)return"state."+t}return null},t.fromObject=function(e){if(e instanceof u.tankpb.InformFeedBeenAte)return e;var t=new u.tankpb.InformFeedBeenAte;if(null!=e.id&&(t.id=0|e.id),null!=e.eater&&(t.eater=0|e.eater),null!=e.tank&&(t.tank=0|e.tank),null!=e.state){if("object"!==r(e.state))throw TypeError(".tankpb.InformFeedBeenAte.state: object expected");t.state=u.tankpb.BattleState.fromObject(e.state)}return t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.eater=0,n.tank=0,n.state=null),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.eater&&e.hasOwnProperty("eater")&&(n.eater=e.eater),null!=e.tank&&e.hasOwnProperty("tank")&&(n.tank=e.tank),null!=e.state&&e.hasOwnProperty("state")&&(n.state=u.tankpb.BattleState.toObject(e.state,t)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),o),t.exports=u,cc._RF.pop()},{}],rankJs:[function(e,t,n){"use strict";cc._RF.push(t,"e4db4is6pVFxZIui7//B6dF","rankJs"),cc.Class({extends:cc.Component,properties:{btn_friend:cc.Node,btn_world:cc.Node,display:cc.Node,btn_back:cc.Node,bg:cc.Node},onLoad:function(){this.node.getChildByName("bkg").on("touchend",this.break,this),this.btn_friend.on("touchend",this.viewFriendRanking,this),this.btn_world.on("touchend",this.viewWorldRanking,this);var e=this.node.type;this.design=0==e?Rank.design_big:Rank.design_small,this.initUi(),this.curView=0,WxSdk.sendMsgToSubdomain('{"type":0,"width":'+this.design.display.width+',"height":'+this.design.display.height+',"x":'+this.design.display.x+',"y":'+this.design.display.y+"}"),this.updateUi(0)},updateUi:function(){this.btn_friend.getChildByName("selected").active=0==this.curView,this.btn_world.getChildByName("unselected").active=0==this.curView,this.btn_friend.getChildByName("unselected").active=1==this.curView,this.btn_world.getChildByName("selected").active=1==this.curView},initUi:function(){this.btn_friend.active=this.design.btn_friend.active,this.btn_friend.width=this.design.btn_friend.width,this.btn_friend.height=this.design.btn_friend.height,this.btn_friend.x=this.design.btn_friend.x,this.btn_friend.y=this.design.btn_friend.y,this.btn_friend.scaleX=this.design.btn_friend.scaleX,this.btn_friend.scaleY=this.design.btn_friend.scaleY,this.btn_world.active=this.design.btn_world.active,this.btn_world.width=this.design.btn_world.width,this.btn_world.height=this.design.btn_world.height,this.btn_world.x=this.design.btn_world.x,this.btn_world.y=this.design.btn_world.y,this.btn_world.scaleX=this.design.btn_world.scaleX,this.btn_world.scaleY=this.design.btn_world.scaleY,this.btn_back.active=this.design.btn_back.active,this.btn_back.width=this.design.btn_back.width,this.btn_back.height=this.design.btn_back.height,this.btn_back.x=this.design.btn_back.x,this.btn_back.y=this.design.btn_back.y,this.btn_back.scaleX=this.design.btn_back.scaleX,this.btn_back.scaleY=this.design.btn_back.scaleY,this.bg.active=this.design.bg.active,this.bg.width=this.design.bg.width,this.bg.height=this.design.bg.height,this.bg.x=this.design.bg.x,this.bg.y=this.design.bg.y,this.bg.scaleX=this.design.bg.scaleX,this.bg.scaleY=this.design.bg.scaleY},break:function(e){e.stopPropagation()},viewFriendRanking:function(e){e&&e.stopPropagation(),0!=this.curView&&(this.curView=0,this.updateUi(),WxSdk.sendMsgToSubdomain('{"type":0,"width":'+this.design.display.width+',"height":'+this.design.display.height+',"x":'+this.design.display.x+',"y":'+this.design.display.y+"}"))},viewWorldRanking:function(e){e&&e.stopPropagation(),1!=this.curView&&(this.curView=1,this.updateUi(),Http.getRank(Common.constants.APP_ID,0,function(e,t){e||WxSdk.sendMsgToSubdomain('{"type":0,"width":'+this.design.display.width+',"height":'+this.design.display.height+',"x":'+this.design.display.x+',"y":'+this.design.display.y+',"data":'+JSON.stringify(t)+"}")}))},back:function(){this.node.active=!1,this.node.parent=null,this.node.destroy()},start:function(){this.tex=new cc.Texture2D},_updaetSubDomainCanvas:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){if(this.tex){var e=wx.getOpenDataContext().canvas;this.tex.initWithElement(e),this.tex.handleLoadedTexture();var t=new cc.SpriteFrame(this.tex);this.display.getComponent(cc.Sprite).spriteFrame=t}}else console.log("WxSdk.showImage --\x3e show image err [ 当前不是微信环境，无法调用微信api ]")},update:function(e){this._updaetSubDomainCanvas()}}),cc._RF.pop()},{}]},{},["BattleData","BattleEntityManager","BufTank","EntityBullet","EntityPool","EntityTank","ExplodeEfect","FollowNode","GameData","GameSet","GlobalHead","Help","LocalNum","MusicManager","NBaseData","NWebSocket","ProtoDefine","ReqPack","TankLuanZhan","TimeServer","Analysis","Common","Http","WxSdk","More","moreItemJs","moreJs","Rank","rankJs","Share","ald-game-conf","ald-game","DialogBox","ChekuLayer","FenxiangLayer","Hall","QianghuaLayer","ShezhiLayer","YaoqingLayer","ZhanjiLayer","jihuieffect","NSprite","proto","login"]);